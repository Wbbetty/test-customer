{"version":3,"sources":["webpack:///./src/agent/images/default.png","webpack:///./src/agent/images/edit.png","webpack:///./src/agent/images/finish.png","webpack:///./src/agent/view/Customers.vue?c974","webpack:///./src/agent/view/Customers.vue?5949","webpack:///src/agent/view/Customers.vue","webpack:///./src/agent/view/Customers.vue?61d3","webpack:///./src/agent/view/Customers.vue"],"names":["module","exports","render","_vm","this","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","search","queryContacts","_l","customers","user","key","class","selectedCustomer","openId","showCustomer","_s","id","avatar","mark","nickname","chat","markEditor","visible","$set","saveMark","showMarkEditor","appName","mobileEditor","mobileNumber","saveMobileNumber","showMobileEditor","_e","staticRenderFns","content","methods","params","global","api","updateMobileNumber","then","res","code","alert","errorMessage","catch","err","console","log","updateUserMark","getContacts","data","list","customer","customerId","$router","push","path","query","component"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,4B,mBCA3CD,EAAOC,QAAU,s3D,4CCAjBD,EAAOC,QAAU,svC,kCCAjB,W,yCCAA,IAAIC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACJ,EAAIK,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOT,EAAU,OAAEU,WAAW,WAAWC,MAAM,CAAC,KAAO,OAAO,YAAc,cAAcC,SAAS,CAAC,MAASZ,EAAU,QAAGa,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAiBhB,EAAIiB,OAAOH,EAAOC,OAAON,WAAUP,EAAG,OAAO,CAACE,YAAY,MAAMS,GAAG,CAAC,MAAQb,EAAIkB,gBAAgB,CAAClB,EAAIK,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,gBAAgBJ,EAAImB,GAAInB,EAAIoB,WAAa,IAAI,SAASC,EAAKC,GAAK,OAAOpB,EAAG,MAAM,CAACoB,IAAIA,EAAIC,MAAMvB,EAAIwB,kBAAoBxB,EAAIwB,iBAAiBC,SAAWJ,EAAKI,OAAQ,oBAAsB,YAAYZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI0B,aAAaL,MAAS,CAACrB,EAAIK,GAAG,IAAIL,EAAI2B,GAAG3B,EAAIwB,kBAAoBxB,EAAIwB,iBAAiBI,IAAI5B,EAAI2B,GAAGN,GAAQA,EAAKO,IAAI,KAAK1B,EAAG,MAAM,CAACE,YAAY,eAAe,CAAEiB,EAAW,OAAEnB,EAAG,MAAM,CAACS,MAAM,CAAC,IAAMU,EAAKQ,UAAU3B,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,aAA+BU,EAAS,KAAEnB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAGL,EAAI2B,GAAGN,EAAKS,SAAS5B,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAGL,EAAI2B,GAAGN,EAAKU,kBAAiB,KAAK7B,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAAEJ,EAAoB,iBAAEE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAAEJ,EAAIwB,iBAAuB,OAAEtB,EAAG,MAAM,CAACS,MAAM,CAAC,IAAMX,EAAIwB,iBAAiBK,UAAU3B,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,aAA8BT,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,0BAA0BF,EAAG,MAAM,CAACF,EAAIK,GAAGL,EAAI2B,GAAG3B,EAAIwB,iBAAiBO,eAAe7B,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,cAAcS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIgC,KAAKhC,EAAIwB,iBAAiBC,WAAW,CAACzB,EAAIK,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAG,QAAQH,EAAG,MAAM,CAACE,YAAY,aAAa,CAAGJ,EAAIiC,WAAWC,QAAiGhC,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOT,EAAIiC,WAAkB,QAAEvB,WAAW,uBAAuBN,YAAY,kBAAkBQ,SAAS,CAAC,MAASZ,EAAIiC,WAAkB,SAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAiBhB,EAAImC,KAAKnC,EAAIiC,WAAY,UAAWnB,EAAOC,OAAON,WAA/YP,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACJ,EAAIK,GAAGL,EAAI2B,GAAG3B,EAAIwB,iBAAiBM,WAA6U5B,EAAG,MAAM,CAACE,YAAY,aAAa,CAAGJ,EAAIiC,WAAWC,QAAiGhC,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,SAAyBE,GAAG,CAAC,MAAQb,EAAIoC,YAAhKlC,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,SAAuBE,GAAG,CAAC,MAAQb,EAAIqC,sBAA0GnC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAG,IAAIL,EAAI2B,GAAG3B,EAAIwB,iBAAiBc,SAAS,SAASpC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAG,SAASH,EAAG,MAAM,CAACE,YAAY,aAAa,CAAGJ,EAAIuC,aAAaL,QAAyGhC,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOT,EAAIuC,aAAoB,QAAE7B,WAAW,yBAAyBN,YAAY,kBAAkBQ,SAAS,CAAC,MAASZ,EAAIuC,aAAoB,SAAG1B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAiBhB,EAAImC,KAAKnC,EAAIuC,aAAc,UAAWzB,EAAOC,OAAON,WAA/ZP,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACJ,EAAIK,GAAGL,EAAI2B,GAAG3B,EAAIwB,iBAAiBgB,mBAA6VtC,EAAG,MAAM,CAACE,YAAY,aAAa,CAAGJ,EAAIuC,aAAaL,QAAmGhC,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,SAAyBE,GAAG,CAAC,MAAQb,EAAIyC,oBAAlKvC,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,SAAuBE,GAAG,CAAC,MAAQb,EAAI0C,4BAAwH1C,EAAI2C,UAEvuHC,EAAkB,GC8EL,GACbrC,KAAM,WACN,OACE,MAAO,CACLa,UAAW,GACXI,iBAAkB,KAClBP,OAAQ,GACRsB,aAAc,CACZL,SAAS,EACTW,QAAS,IAEXZ,WAAY,CACVC,SAAS,EACTW,QAAS,MAIf,UACE5C,KAAKiB,iBAEP4B,QAAS,CACP,mBACE7C,KAAKsC,aAAaM,QAAU5C,KAAKuB,iBAAiBgB,aAClDvC,KAAKsC,aAAaL,SAAU,GAE9B,mBACE,IAAIa,EAAS,CACXtB,OAAQxB,KAAKuB,iBAAiBC,OAC9Be,aAAcvC,KAAKsC,aAAaM,SAElC5C,KAAK+C,OAAOC,IAAIC,mBAAmBH,GAAQI,KAAMC,IAC/CnD,KAAKsC,aAAaL,SAAU,EACb,MAAXkB,EAAIC,KACNpD,KAAKuB,iBAAiBgB,aAAevC,KAAKsC,aAAaM,QAEvDS,MAAM,QAAQF,EAAIG,gBAEnBC,MAAOC,IACRC,QAAQC,IAAI,uCAAwCF,MAGxD,iBACExD,KAAKgC,WAAWY,QAAU5C,KAAKuB,iBAAiBM,KAChD7B,KAAKgC,WAAWC,SAAU,GAE5B,WACEjC,KAAK+C,OAAOC,IAAIW,eAAe3D,KAAKuB,iBAAiBC,OAAQxB,KAAKgC,WAAWY,SAASM,KAAMC,IAC1FnD,KAAKgC,WAAWC,SAAU,EAC1BjC,KAAKuB,iBAAiBM,KAAO7B,KAAKgC,WAAWY,UAC5CW,MAAOC,IACRC,QAAQC,IAAI,8BAA+BF,MAG/C,gBACExD,KAAK+C,OAAOC,IAAIY,YAAY5D,KAAKgB,QAAQkC,KAAMC,IAC7CnD,KAAKmB,UAAYgC,EAAIU,KAAKC,OACzBP,MAAOC,IACRC,QAAQC,SAGZ,aAAaK,GACX/D,KAAKuB,iBAAmBwC,EACxB/D,KAAKsC,aAAe,CAClBL,SAAS,EACTW,QAAS,IAEX5C,KAAKgC,WAAa,CAChBC,SAAS,EACTW,QAAS,KAGb,KAAKoB,GACHhE,KAAKiE,QAAQC,KAAK,CAChBC,KAAM,4BACNC,MAAO,CACLzC,GAAIqC,QC3JwL,I,wBCQpMK,EAAY,eACd,EACAvE,EACA6C,GACA,EACA,KACA,WACA,MAIa,aAAA0B,E","file":"js/chunk-9a13973e.e415b702.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/default.f0e98eaa.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABT1JREFUeF7tm1toHkUUx8/ZL2mJFBV88PKqL94VrKDJQzNz5lOUGBWD91os3lAktlg0EJqIoKI1iogXvKD1jqGCQok7y+dDfal3wYJgH3zQBx8qqAQC2T2yYb+w2e7ZbzfdZPcj3z7mm3Nm/r855+zM7ARhgz+4wfVDD0AvAjY4gV4KbPAAyFcEXde9sNFokO/7WxHxzHWC9iYRvbfWfXVMAc/zmsw8CwBb1nowcf+I+C8AnKu1/iOrX9d1L3Uc54IgCM5oNBpHN23a5A4NDYW2uZ5MAJ7n3c/Mr+TyVHKjPABc151CxEcB4KRY94eDIJhoNpteniGJAFqt1hbf938FgLMSjr7K47iENpkpEInfK/XDzDuNMW91GocIwPO8K5n567YDZp6en5/fNzo6mju8OnW+2t8F8T8DwEVxn0EQ3NhsNg9k9SMCcF13HBFnYsbnE9GR1Q66LLs08UEQbG82m/s9zxtj5k8SfWWOOwtAmF/LIUZEHQtmWSIlP2niHcfZpZRanqgUCH8CgJEmr2sApIkP09IYM5UElgLhTumV2hUAsgqeBMFa2wKAbSEcRHxca/10WmTVHkCnah+KSkJI2iDiPVrrN7oOgCB+LzM78foUzfKU1no6xWaemYeMMT90FQAh5yeNMU+GQqSaIIGRCmstU0Co9hNKqafiQjzPC6PhuCLYboOIk1rrJWBdAyBNPCI+prV+Jk1ERo2YIKIVwGqfAkJY7zHGPFtwbbBHKSXaxH3VJgWEcN5NRM8XEQ8AmTZJX7UAkCaemR8xxrxQUPw4Eb1YZEVaOYA08Yj4sNb6pYLiHyKil4uIX3p95u1kLfYCQthnChGK5ANa61eLiq8UgDDzmUIE8amrPGvtawBwLzPPGGN21eo1KMz8fUT0et6IjFZ/d2ut307aeJ53NjP/Fvv7xUQUnhcc96x7CggzL67VM1Z9dxlj3hXWBtsQMdwMLT3MPGyMST3JWlcAgvjUWWwPXlgV3q6U+iAjWuoHQAj7HUT0jiREsLmFiD7OKniu69YLgDDz27XW+wuKHyOiTztV+1oBEGbxDiJ6v6D4G4jos07io5pRjwgQNiq3EtFHRcQj4nVa68/ziK8NAKF43ayUSp7aLusSUuUarfXBvOJrAaDVap26uLj4DSKeEx84It6mtf4wTYwg/iqt9ZdFxNcCgOu61yLiF2kDdxxnp1JqxRebNPFBEFDez1vJfiovgtbaJwBgMhpYuABZOp1tP/HNjrATFBcueaKhDgDCsDXRKmzacZxfkl9sHMeZ8H1/c/IML2vVlkd85SkQ5r/v+78DwMnxZajw2WqFpjLEVw7AWns9ALQ/SB4jotPaKrMglCW+cgCe580w83g4EEQ8sLCwsKO/v/+KsA4gogKAy5OhXKb4ygFYa8MPEJdEIueiArhZyt+yxVcKIMr/v3MWqyPM/KC0Tc3pI7VZZW8Ba214QeEnYfDHEHEuvHThOM4hpZTU7kS0L9lWBiDs3Fp7GAC2RioOMfNco9FoKaWWb5ucsMIODioF0J6Bvr6+b4eHh/9ba7Fp/isHUIXoeJ89AHU7EVrviOhFQEkRUMtrcnmiyVq7GwCea7d1HOcypdR3abZdeVEyC4K19jwA2AcAV0ft/iGiUySbOl+VzTPZaW1WnD0AwCwR3VQYQGhQ5WXp1apP2g0MDJw+ODj416oARBAquS5fAoCjzDwm3Q5r+891/bWif5hYFQNE/NH3/e8XFhZmR0ZG5js5yQWgk5Nu/r0HoJtnr4yx9yKgDIrd7KMXAd08e2WM/X/ksvZuGrKk2AAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAM6SURBVHhe7ZtLa+pAGIZHQRci0lXB6kJxIf0Xbf3fQkUQQTdaxZXdir14aVW8nnPe6Zc2xmQyqUk8yeQB+WZiSHxfv7lGY3/+wRQmTlFZIgMoKktkAEVlUd4AqWFwPp+z5XLJX26TTqfZ9fU11fzH1oDhcMien59ZLBZjbk8ZcM14PM7u7u7oiP8Im8Dn56dn4gGuud/vqXYZhAYg9YEX4jXy+TyVvKHf77NWq0W1U4RNQEt/gFS9v7/n5aDQbrfZbDbj5dvbW5bNZnlZj/QocDgcqBQMIH46nfLsxWswGNA7x4RyGOx2u1y8npubGyodEzoDIH48HlPtC/Qz5XKZaseEygCk/cvLCx+19FiJB6ExwNjmNexGmVAYoInXgywQpb5G4A2wEp/L5WzFg8Aa8Pb2xqrV6ol4fOsPDw9S4kFgDeh0OiczVJmUNxJIA5rN5snE7DfiQeAMQJvHIs3JUCfCEwOwhthut1RzD32H52SoE+GqAeiY6vU6X0Dhw7q5gWLW20N4pVL59bcPhAasVisqyYGl53q95uXFYsGnpU6vYYaV+HOEawgNwLTSCbvdjkpfoK2ea4KX4oHQAKdL4GKxSKUfPj4+WK/X+84MJ3gtHrjaBxQKBVYqlaj2AzYlnp6e2GazoSP2+CEeSBuAHSEZrEyAGJhgbCZm+CUeCFVdXV1RyVlzsDJhMpnwPkG0EeqneCBtgFOsTHh/f7c0wW/xwNU+wIiVCZgvoDnoJzOXEA88NQBYmfD6+spNAF6Jh9GPj4+sVqvRkVM8NwBYmYB5RqPR8Oybx8QMna5oWu6LAcDMBDQB43TZzbSXGXZ9MwBYZYKGH23eiK8GAJiABYzRiEuIB9IGGNff56LPhkuJB9IGGLef3EDLhkuJB743gf+NyACKyhIZQFFZIgMoKktkAEVliQygqCyRARSVJTKAoi1YswcNmYc5wt8Kj0Yj/lwPJBIJ4eZiMpnk0cnjL2yy2O0zQITooYzZfY3HcB/8bsgMoUWpVIpHXMDuBw94323xOMfuiZTZfY3HRPcRGpDJZPgTX7sPCmTO0ePWNc3OMR6DDiuk/jITZqJRgKKyRAZQVBbFDWDsLw3806OylxmwAAAAAElFTkSuQmCC\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customers.vue?vue&type=style&index=0&id=c49f540c&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"contact\"},[_c('div',{staticClass:\"contact-left\"},[_c('div',{staticClass:\"contact-tab\"},[_vm._v(\"客户列表\")]),_c('div',{staticClass:\"contacts-search-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入电话号码或昵称\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}}),_c('span',{staticClass:\"btn\",on:{\"click\":_vm.queryContacts}},[_vm._v(\"搜索\")])]),_c('div',{staticClass:\"contact-list\"},_vm._l((_vm.customers || []),function(user,key){return _c('div',{key:key,class:_vm.selectedCustomer && _vm.selectedCustomer.openId === user.openId ?'user-item checked' : 'user-item',on:{\"click\":function($event){return _vm.showCustomer(user)}}},[_vm._v(\" \"+_vm._s(_vm.selectedCustomer && _vm.selectedCustomer.id)+_vm._s(user && user.id)+\" \"),_c('div',{staticClass:\"user-avatar\"},[(user.avatar)?_c('img',{attrs:{\"src\":user.avatar}}):_c('img',{attrs:{\"src\":require(\"../images/default.png\")}})]),(user.mark)?_c('div',{staticClass:\"user-info\"},[_vm._v(_vm._s(user.mark))]):_c('div',{staticClass:\"user-info\"},[_vm._v(_vm._s(user.nickname))])])}),0)]),_c('div',{staticClass:\"contact-main\"},[(_vm.selectedCustomer)?_c('div',{staticClass:\"profile-card\"},[_c('div',{staticClass:\"card-title\"},[_c('div',{staticClass:\"profile-avatar\"},[(_vm.selectedCustomer.avatar)?_c('img',{attrs:{\"src\":_vm.selectedCustomer.avatar}}):_c('img',{attrs:{\"src\":require(\"../images/default.png\")}})]),_c('div',{staticClass:\"profile-right\"},[_c('div',{staticClass:\"profile-name\"},[_c('i',{staticClass:\"iconfont icon-zhanghu\"}),_c('div',[_vm._v(_vm._s(_vm.selectedCustomer.nickname))])]),_c('div',{staticClass:\"button-box\"},[_c('button',{staticClass:\"card-button\",on:{\"click\":function($event){return _vm.chat(_vm.selectedCustomer.openId)}}},[_vm._v(\"发消息\")])])])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"info-item\"},[_c('div',{staticClass:\"info-name\"},[_vm._v(\"备注\")]),_c('div',{staticClass:\"info-text\"},[(!_vm.markEditor.visible)?_c('div',{staticClass:\"info-text-content\"},[_vm._v(_vm._s(_vm.selectedCustomer.mark))]):_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.markEditor.content),expression:\"markEditor.content\"}],staticClass:\"info-text-input\",domProps:{\"value\":(_vm.markEditor.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.markEditor, \"content\", $event.target.value)}}})]),_c('div',{staticClass:\"info-edit\"},[(!_vm.markEditor.visible)?_c('img',{attrs:{\"src\":require(\"../images/edit.png\")},on:{\"click\":_vm.showMarkEditor}}):_c('img',{attrs:{\"src\":require(\"../images/finish.png\")},on:{\"click\":_vm.saveMark}})])]),_c('div',{staticClass:\"info-item\"},[_c('div',{staticClass:\"info-name\"},[_vm._v(\"应用名称\")]),_c('div',{staticClass:\"info-text\"},[_vm._v(\" \"+_vm._s(_vm.selectedCustomer.appName)+\" \")])]),_c('div',{staticClass:\"info-item\"},[_c('div',{staticClass:\"info-name\"},[_vm._v(\"手 机\")]),_c('div',{staticClass:\"info-text\"},[(!_vm.mobileEditor.visible)?_c('div',{staticClass:\"info-text-content\"},[_vm._v(_vm._s(_vm.selectedCustomer.mobileNumber))]):_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mobileEditor.content),expression:\"mobileEditor.content\"}],staticClass:\"info-text-input\",domProps:{\"value\":(_vm.mobileEditor.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.mobileEditor, \"content\", $event.target.value)}}})]),_c('div',{staticClass:\"info-edit\"},[(!_vm.mobileEditor.visible)?_c('img',{attrs:{\"src\":require(\"../images/edit.png\")},on:{\"click\":_vm.showMobileEditor}}):_c('img',{attrs:{\"src\":require(\"../images/finish.png\")},on:{\"click\":_vm.saveMobileNumber}})])])])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"contact\">\n    <div class=\"contact-left\">\n      <div class=\"contact-tab\">客户列表</div>\n      <div class=\"contacts-search-box\">\n        <input v-model=\"search\" type=\"text\" placeholder=\"请输入电话号码或昵称\">\n        <span class=\"btn\" @click=\"queryContacts\">搜索</span>\n      </div>\n      <div class=\"contact-list\">\n        <div\n          v-for=\"(user, key) in customers || []\"\n          :key=\"key\"\n          :class=\"selectedCustomer && selectedCustomer.openId === user.openId ?'user-item checked' : 'user-item'\"\n          @click=\"showCustomer(user)\"\n        >\n          {{selectedCustomer && selectedCustomer.id}}{{user && user.id}}\n          <div class=\"user-avatar\">\n            <img v-if=\"user.avatar\" :src=\"user.avatar\"/>\n            <img v-else src=\"../images/default.png\"/>\n          </div>\n          <div class=\"user-info\" v-if=\"user.mark\">{{ user.mark }}</div>\n          <div class=\"user-info\" v-else>{{ user.nickname }}</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"contact-main\">\n      <div class=\"profile-card\" v-if=\"selectedCustomer\">\n        <div class=\"card-title\">\n          <div class=\"profile-avatar\">\n            <img v-if=\"selectedCustomer.avatar\" :src=\"selectedCustomer.avatar\"/>\n            <img v-else src=\"../images/default.png\"/>\n          </div>\n          <div class=\"profile-right\">\n            <div class=\"profile-name\">\n              <i class=\"iconfont icon-zhanghu\"></i>\n              <div>{{ selectedCustomer.nickname }}</div>\n            </div>\n            <div class=\"button-box\">\n              <button class=\"card-button\" @click=\"chat(selectedCustomer.openId)\">发消息</button>\n            </div>\n          </div>\n\n        </div>\n        <div class=\"card-body\">\n          <div class=\"info-item\">\n            <div class=\"info-name\">备注</div>\n            <div class=\"info-text\">\n              <div class=\"info-text-content\" v-if=\"!markEditor.visible\">{{ selectedCustomer.mark }}</div>\n              <textarea class=\"info-text-input\" v-else v-model=\"markEditor.content\"></textarea>\n            </div>\n            <div class=\"info-edit\">\n              <img v-if=\"!markEditor.visible\" @click=\"showMarkEditor\" src=\"../images/edit.png\" />\n              <img v-else @click=\"saveMark\" src=\"../images/finish.png\" />\n            </div>\n          </div>\n          <div class=\"info-item\">\n            <div class=\"info-name\">应用名称</div>\n            <div class=\"info-text\">\n              {{ selectedCustomer.appName }}\n            </div>\n          </div>\n          <div class=\"info-item\">\n            <div class=\"info-name\">手 机</div>\n            <div class=\"info-text\">\n              <div class=\"info-text-content\" v-if=\"!mobileEditor.visible\">{{ selectedCustomer.mobileNumber }}</div>\n              <textarea class=\"info-text-input\" v-else v-model=\"mobileEditor.content\"></textarea>\n            </div>\n            <div class=\"info-edit\">\n              <img v-if=\"!mobileEditor.visible\" @click=\"showMobileEditor\" src=\"../images/edit.png\" />\n              <img v-else @click=\"saveMobileNumber\" src=\"../images/finish.png\" />\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"Contacts\",\n    data() {\n      return {\n        customers: [],\n        selectedCustomer: null,\n        search: \"\",\n        mobileEditor: {\n          visible: false,\n          content: ''\n        },\n        markEditor: {\n          visible: false,\n          content: ''\n        }\n      };\n    },\n    mounted() {\n      this.queryContacts();\n    },\n    methods: {\n      showMobileEditor () {\n        this.mobileEditor.content = this.selectedCustomer.mobileNumber;\n        this.mobileEditor.visible = true;\n      },\n      saveMobileNumber () {\n        let params = {\n          openId: this.selectedCustomer.openId,\n          mobileNumber: this.mobileEditor.content\n        }\n        this.global.api.updateMobileNumber(params).then((res) => {\n          this.mobileEditor.visible = false;\n          if (res.code===200) {\n            this.selectedCustomer.mobileNumber = this.mobileEditor.content;\n          } else {\n            alert(`保存失败,${res.errorMessage}`);\n          }\n        }).catch((err) => {\n          console.log(\"save or update mobile number failed:\", err);\n        });\n      },\n      showMarkEditor () {\n        this.markEditor.content = this.selectedCustomer.mark;\n        this.markEditor.visible = true;\n      },\n      saveMark () {\n        this.global.api.updateUserMark(this.selectedCustomer.openId, this.markEditor.content).then((res) => {\n          this.markEditor.visible = false;\n          this.selectedCustomer.mark = this.markEditor.content;\n        }).catch((err) => {\n          console.log(\"save or update mark failed:\", err);\n        });\n      },\n      queryContacts() {\n        this.global.api.getContacts(this.search).then((res) => {\n          this.customers = res.data.list;\n        }).catch((err) => {\n          console.log();\n        });\n      },\n      showCustomer(customer) {\n        this.selectedCustomer = customer;\n        this.mobileEditor = {\n          visible: false,\n          content: ''\n        },\n        this.markEditor = {\n          visible: false,\n          content: ''\n        }\n      },\n      chat(customerId) {\n        this.$router.push({\n          path: '/agent/conversations/chat',\n          query: {\n            id: customerId,\n          }\n        });\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  .contact {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    background: #F7F7F7;\n\n    .contact-left {\n      width: 260px;\n      height: 100%;\n      padding: 10px 9px 10px 10px;\n      border-right: #dbd6d6 1px solid;\n      display: flex;\n      flex-direction: column;\n\n      .contacts-search-box {\n        display: flex;\n        align-items: center;\n        padding: 10px 0;\n\n        input {\n          outline: none;\n          border: none;\n          height: 36px;\n          padding-left: 12px;\n          border-radius: 4px;\n          border: 1px solid #D8DCE6;\n          box-sizing: border-box;\n          background: #FFFFFF;\n        }\n\n        .btn {\n          display: inline-block;\n          margin-left: 10px;\n          padding: 10px;\n          border-radius: 4px;\n          line-height: 14px;\n          font-weight: normal;\n          font-size: 14px;\n          cursor: pointer;\n          color: #FFFFFF;\n          background: #D02129;\n        }\n      }\n\n      .contact-title {\n        padding: 20px;\n        margin-bottom: 15px;\n\n        .input {\n          background-color: #fff;\n          border-radius: 4px;\n          border: 1px solid #dcdfe6;\n          padding: 0 15px;\n          height: 32px;\n        }\n\n      }\n\n      .contact-tab {\n        padding: 20px;\n        margin-bottom: 20px;\n        font-size: 18px;\n        border-bottom: 1px solid #eeeeee;\n      }\n\n      .contact-list {\n        display: flex;\n        flex-direction: column;\n        overflow-y: auto;\n        height: 440px;\n\n        scrollbar-width: none;\n        -ms-overflow-style: none;\n\n        &::-webkit-scrollbar {\n          display: none;\n        }\n      }\n\n      .user-item {\n        display: flex;\n        padding: 5px 10px;\n        cursor: pointer;\n\n        .user-avatar {\n          width: 45px;\n\n          img {\n            width: 45px;\n            height: 45px;\n            border-radius: 10%;\n          }\n\n        }\n\n        .user-info {\n          padding-left: 10px;\n          font-size: 15px;\n          color: #333333;\n          width: 190px;\n          line-height: 45px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          word-break: break-all;\n        }\n\n      }\n\n      .checked {\n        background: #FFFFFF;\n        border-radius: 10px;\n        box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.1);\n      }\n\n      .group-items {\n        display: flex;\n        padding: 5px 10px;\n\n        .group-avatar {\n          width: 50px;\n          height: 50px;\n          margin-left: 10px;\n          overflow: hidden;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          align-content: center;\n          flex-wrap: wrap-reverse;\n        }\n\n        .avatarItem--1 > img {\n          width: 98%;\n          height: 98%;\n        }\n\n        .avatarItem--2 > img {\n          width: 47%;\n          height: 47%;\n          margin: 1%;\n        }\n\n        .avatarItem--3 > img {\n          width: 31%;\n          height: 30%;\n          margin: 1%;\n        }\n\n        .group {\n          width: 65%;\n          margin-left: 10px;\n\n          .group-name {\n            width: 180px;\n            text-align: left;\n            font-size: 15px;\n            line-height: 40px;\n          }\n\n        }\n      }\n    }\n\n    .contact-main {\n      flex: 1;\n      background: #FFFFFF;\n    }\n\n  }\n\n  .profile-card {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n\n    .card-title {\n      padding: 10px;\n      border-bottom: 1px solid #eeeeee;\n      display: flex;\n      justify-content: space-around;\n\n      .profile-name {\n        width: 300px;\n        font-size: 18px;\n        display: flex;\n        align-items: center;\n\n        .icon-zhanghu {\n          font-size: 26px;\n          color: #eeeeee;\n          margin-right: 10px;\n        }\n\n      }\n\n      .profile-avatar {\n        width: 50px;\n\n        img {\n          width: 50px;\n          height: 50px;\n          border-radius: 10%;\n        }\n\n      }\n\n      .profile-right {\n        display: flex;\n        flex-direction: column;\n        .button-box {\n          height: 35px;\n\n          .card-button {\n            background: #d02129;\n            color: #FFFFFF;\n            font-size: 14px;\n            margin: 5px 0;\n            border: none;\n            display: flex;\n            width: 100px;\n            height: 30px;\n            cursor: pointer;\n            border-radius: 5px;\n            align-items: center;\n            justify-content: center;\n          }\n\n        }\n      }\n    }\n\n    .card-body {\n      flex: 1;\n      overflow-y: auto;\n      .info-item {\n        padding: 10px 50px;\n        display: flex;\n        align-items: center;\n        text-align: left;\n        font-size: 14px;\n        line-height: 46px;\n\n        .info-name {\n          width: 100px;\n        }\n\n        .info-text {\n          min-width: 200px;\n          max-width: 240px;\n          margin-right: 10px;\n          word-break: break-all;\n          line-height: 20px;\n          .info-text-content {\n            width: 240px;\n            white-space: pre-wrap;\n            line-height: 20px;\n            text-overflow: ellipsis;\n            word-break: break-all;\n          }\n          .info-text-input {\n            width: 240px;\n            height: 40px;\n            display: block;\n            line-height: 20px;\n          }\n        }\n\n        .info-edit {\n          width: 25px;\n          height: 25px;\n          img {\n            width: 25px;\n            height: 25px;\n          }\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Customers.vue?vue&type=template&id=c49f540c&scoped=true&\"\nimport script from \"./Customers.vue?vue&type=script&lang=js&\"\nexport * from \"./Customers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Customers.vue?vue&type=style&index=0&id=c49f540c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c49f540c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}