(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d7026f2"],{4800:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"consult"}},[t("div",{staticClass:"content"},[t("div",{staticClass:"header"},[t("span",[e._v("GoEasy客服")]),t("img",{attrs:{src:i("ca1e")},on:{click:e.closeConsultBox}})]),t("div",{staticClass:"body"},[e.qrCode.visible?t("div",{staticClass:"qr-code"},[t("div",{staticClass:"mask"}),t("div",{staticClass:"qr-code-content"},[t("span",[e._v("微信扫码，关注后开始沟通~")]),t("div",{staticClass:"qr-code-avatar"},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.qrCode.value,expression:"qrCode.value"}],staticClass:"qr-code-icon",attrs:{src:e.qrCode.value}})]),t("span",[e._v("关掉浏览器，微信也能收到回复!")])])]):e._e(),t("div",{staticClass:"left"},[t("div",{ref:"scrollView",staticClass:"chat",attrs:{id:"scroll"}},[t("div",[t("div",{staticClass:"history"},[e.history.allLoaded?t("div",{staticClass:"history-loaded"},[t("span",[e._v("已全部加载")])]):t("div",{on:{click:function(t){return e.loadHistory(!1)}}},[e.history.loading?t("div",{staticClass:"history-loaded"},[t("img",{attrs:{src:i("4c5f")}})]):t("div",{staticClass:"history-loaded"},[t("img",{attrs:{src:i("7f56")}}),t("span",[e._v("查看更多消息")])])])]),e._l(e.history.messages,(function(o,s){return t("div",{key:s},[e.showTime(s)?t("div",{staticClass:"message-time"},[e._v(" "+e._s(e.formatDate(o.timestamp))+" ")]):e._e(),"CS_ACCEPT"===o.type?t("div",{staticClass:"signal-message"},[e._v(" "+e._s(o.senderData.name)+"将为您服务 ")]):"CS_END"===o.type?t("div",{staticClass:"signal-message"},[e._v(" "+e._s(o.senderData.name)+"已结束 ")]):"CS_TRANSFER"===o.type?t("div",{staticClass:"signal-message"},[e._v(" "+e._s(o.payload.transferTo.data.name)+"已接入 ")]):t("div",{class:[o.senderId===e.currentUser.id?"consult-record-self":"consult-record"]},[o.senderData.avatar?t("img",{staticClass:"avatar",attrs:{src:o.senderData.avatar,alt:"头像"}}):t("img",{staticClass:"avatar",attrs:{src:i("5726"),alt:"头像"}}),t("div",{staticClass:"info"},[o.senderId!==e.currentUser.id?t("span",{staticClass:"name"},[e._v(e._s(o.senderData.name))]):e._e(),t("div",{staticClass:"message"},["text"===o.type?t("div",{staticClass:"text"},[e._v(" "+e._s(o.payload.text)+" ")]):e._e(),"image"===o.type?t("img",{staticClass:"image",style:{height:Math.ceil(100/(o.payload.width/o.payload.height))+"px"},attrs:{src:o.payload.url},on:{click:function(t){return e.showImage(o.payload.url)}}}):e._e(),"file"===o.type?t("a",{staticClass:"downLoad",attrs:{download:"",title:"点击下载文件",href:o.payload.url}},[t("img",{staticClass:"file",attrs:{src:i("a730")}}),t("div",{staticClass:"file-info"},[t("div",{staticClass:"file-info-name"},[e._v(e._s(e._f("fixContent")(o.payload.name))+" ")]),t("div",{staticClass:"file-info-size"},[e._v(e._s(e._f("fixFileSize")(o.payload.size))+" ")])])]):e._e(),"video"===o.type?t("div",{staticClass:"video",on:{click:function(t){return e.showVideo(o.payload.video.url)}}},[t("img",{directives:[{name:"show",rawName:"v-show",value:"failed"!==o.status&&"pending"!==o.status,expression:"message.status !=='failed' && message.status !=='pending'"}],class:"pending"===o.status?"thumbnail_default":"thumbnail",style:{height:Math.ceil(100/(o.payload.video.width/o.payload.video.height))+"px"},attrs:{src:o.payload.thumbnail.url}}),t("img",{staticClass:"play-icon",attrs:{src:i("b5d0")}})]):e._e(),t("img",{directives:[{name:"show",rawName:"v-show",value:"failed"===o.status,expression:"message.status === 'failed'"}],staticClass:"status",attrs:{src:i("c821")}}),t("img",{directives:[{name:"show",rawName:"v-show",value:"pending"===o.status,expression:"message.status === 'pending'"}],staticClass:"status",attrs:{src:i("79d5")}})])])])])})),e.welcome.visible?t("div",[t("div",{staticClass:"consult-record"},[t("img",{staticClass:"avatar",attrs:{src:i("4e86"),alt:"头像"}}),t("div",{staticClass:"info"},[t("div",{staticClass:"message"},[t("div",{staticClass:"text",domProps:{innerHTML:e._s(e.welcome.message)}})])])])]):e._e()],2)]),t("div",{staticClass:"operation-list"},[t("div",{staticClass:"operation-item"},[t("div",{staticClass:"operation-item-box"},[t("emoji-picker",{on:{emoji:e.chooseEmoji},scopedSlots:e._u([{key:"emoji-invoker",fn:function(e){return t("div",{staticClass:"emoji-invoker",on:{click:function(t){return t.stopPropagation(),e.events.click.apply(null,arguments)}}},[t("img",{attrs:{src:i("af01")}})])}},{key:"emoji-picker",fn:function(i){return t("div",{},[t("div",{staticClass:"emoji-picker"},[t("div",e._l(i.emojis,(function(o,s){return t("div",{key:s},["Frequently used"!==s?t("div",{staticClass:"emojis"},e._l(o,(function(o,s){return t("span",{key:s,attrs:{title:s},on:{click:function(e){return i.insert(o)}}},[e._v(e._s(o))])})),0):e._e()])})),0)])])}}])}),t("div",{staticClass:"upload-img"},[t("input",{ref:"files",staticClass:"image-input",attrs:{accept:"image/*",type:"file"},on:{change:e.sendImageMessage}})]),t("div",{staticClass:"upload-video"},[t("input",{ref:"files",staticClass:"image-input",attrs:{accept:"video/mpeg,video/mp4,video/3gpp",type:"file"},on:{change:e.sendVideoMessage}})]),t("div",{staticClass:"upload-file"},[t("input",{ref:"file",staticClass:"image-input",attrs:{type:"file"},on:{change:e.sendFileMessage}})])],1)]),t("div",{staticClass:"input-box"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"consult-input",attrs:{type:"text",placeholder:"请输入消息，按Enter键发送，Shift+Enter键进行换行"},domProps:{value:e.text},on:{paste:e.paste,keydown:e.enterSendMessage,input:function(t){t.target.composing||(e.text=t.target.value)}}})]),t("div",{staticClass:"consult-send-btn",on:{click:function(t){return e.sendTextMessage()}}},[e._v("发送")])])]),e._m(0)])])])},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"right"},[t("div",{staticClass:"icon-box"},[t("img",{staticClass:"icon",attrs:{src:i("4e86")}})]),t("div",{staticClass:"notice-title"},[e._v("工作时间：09:00~18:00")]),t("div",{staticClass:"notice-title"},[e._v("公告：无")])])}],n=i("669f"),a=i.n(n),r="",c=["flash","scroll"],l={title:"iNotify !",body:"You have a new message.",openurl:""};function u(e,t){for(var i in t)e[i]&&(t[i]=e[i]);return t}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e){var t,i=document.createElement("audio");if(d(e)&&e.length>0)for(var o=0;o<e.length;o++)t=document.createElement("source"),t.src=e[o],t.type="audio/".concat(p(e[o])),i.appendChild(t);else i.src=e;return i}function f(e){var t=document.querySelectorAll("link[rel~=shortcut]")[0];return t||(t=m("O",e)),t}function p(e){return e.match(/\.([^\\.]+)$/)[1]}function m(e,t){var i=document.createElement("canvas"),o=document.getElementsByTagName("head")[0],s=document.createElement("link"),n=null;return i.height=32,i.width=32,n=i.getContext("2d"),n.fillStyle=t.backgroundColor,n.fillRect(0,0,32,32),n.textAlign="center",n.font='22px "helvetica", sans-serif',n.fillStyle=t.textColor,e&&n.fillText(e,16,24),s.setAttribute("rel","shortcut icon"),s.setAttribute("type","image/x-icon"),s.setAttribute("id","new".concat(t.id)),s.setAttribute("href",i.toDataURL("image/png")),r=i.toDataURL("image/png"),o.appendChild(s)}function g(e){e&&this.init(e)}g.prototype={init:function(e){return e||(e={}),this.interval=e.interval||100,this.effect=e.effect||"flash",this.title=e.title||document.title,this.message=e.message||this.title,this.onclick=e.onclick||this.onclick,this.openurl=e.openurl||this.openurl,this.updateFavicon=e.updateFavicon||{id:"favicon",textColor:"#fff",backgroundColor:"#2F9A00"},this.audio=e.audio||"",this.favicon=f(this.updateFavicon),this.cloneFavicon=this.favicon.cloneNode(!0),r=e.notification&&e.notification.icon?e.notification.icon:e.icon?e.icon:this.favicon.href,l.icon=r,this.notification=e.notification||l,this.audio&&this.audio.file&&this.setURL(this.audio.file),this},render:function(){if("flash"===this.effect)document.title=this.title===document.title?this.message:this.title;else if("scroll"===this.effect){var e=this.message||document.title;this.scrollTitle&&this.scrollTitle.slice(1)?(this.scrollTitle=this.scrollTitle.slice(1),document.title=this.scrollTitle):(document.title=e,this.scrollTitle=e)}return this},setTitle:function(e){if(!0===e){if(c.indexOf(this.effect)>=0)return this.addTimer()}else e?(this.message=e,this.scrollTitle="",this.addTimer()):this.clearTimer();return this},setURL:function(e){return e&&(this.audioElm&&this.audioElm.remove(),this.audioElm=h(e),document.body.appendChild(this.audioElm)),this},loopPlay:function(){return this.setURL(),this.audioElm.loop=!0,this.player(),this},stopPlay:function(){return this.audioElm&&(this.audioElm.loop=!1,this.audioElm.pause()),this},player:function(){if(this.audio&&this.audio.file)return this.audioElm||(this.audioElm=h(this.audio.file),document.body.appendChild(this.audioElm)),this.audioElm.play(),this},notify:function(e){var t=this.notification,i=e.openurl?e.openurl:this.openurl,o=e.onclick?e.onclick:this.onclick;if(window.Notification){t=e?u(e,t):l;var s={};s.icon=e.icon?e.icon:r,s.body=t.body,e.dir&&(s.dir=e.dir);var n=new Notification(t.title,s);n.onclick=function(){o&&"function"===typeof o&&o(n),i&&window.open(i)},n.onshow=function(){e.onshow&&"function"===typeof e.onshow&&e.onshow(n)},n.onclose=function(){e.onclose&&"function"===typeof e.onclose&&e.onclose(n)},n.onerror=function(){e.onerror&&"function"===typeof e.onerror&&e.onerror(n)},this.Notifiy=n}return this},isPermission:function(){return window.Notification&&"granted"===Notification.permission},setInterval:function(e){return e&&(this.interval=e,this.addTimer()),this},setFavicon:function(e){if(!e&&0!==e)return this.faviconClear();var t=document.getElementById("new".concat(this.updateFavicon.id));return this.favicon&&this.favicon.remove(),t&&t.remove(),this.updateFavicon.num=e,m(e,this.updateFavicon),this},setFaviconColor:function(e){return e&&(this.faviconRemove(),this.updateFavicon.textColor=e,m(this.updateFavicon.num,this.updateFavicon)),this},setFaviconBackgroundColor:function(e){return e&&(this.faviconRemove(),this.updateFavicon.backgroundColor=e,m(this.updateFavicon.num,this.updateFavicon)),this},faviconRemove:function(){this.faviconClear();var e=document.getElementById("new".concat(this.updateFavicon.id));this.favicon&&this.favicon.remove(),e&&e.remove()},addTimer:function(){return this.clearTimer(),c.indexOf(this.effect)>=0&&(this.timer=setInterval(this.render.bind(this),this.interval)),this},close:function(){this.Notifiy&&this.Notifiy.close()},faviconClear:function(){var e=document.getElementById("new".concat(this.updateFavicon.id)),t=document.getElementsByTagName("head")[0],i=document.querySelectorAll("link[rel~=shortcut]");if(e&&e.remove(),i.length>0)for(var o=0;o<i.length;o++)i[o].remove();return t.appendChild(this.cloneFavicon),r=this.cloneFavicon.href,this.favicon=this.cloneFavicon,this},clearTimer:function(){return this.timer&&clearInterval(this.timer),document.title=this.title,this}};var A=g;function _(){this.notify=this.init()}_.prototype.init=function(){if(window.Notification&&"granted"!==window.Notification.permission&&window.Notification.requestPermission(),this.notify)return this.notify;let e=new A({effect:"scroll",interval:1e3});return e.onclick=function(e){window.focus()},e},_.prototype.sendNotification=function(e){let t,i=e.type;if("image"===i)t="[图片]";else if("video"===i)t="[视频]";else if("file"===i)t="[文件]";else if("text"===i){let i=e.payload.text;t=i.length>=50?i.substring(0,30)+"...":i}else"CS_ACCEPT"===i?t=e.senderData.name+"已接入":"CS_END"===i?t=e.senderData.name+"已结束":"CS_TRANSFER"===i&&(t=e.senderData.name+"已转接给"+e.payload.transferTo.data.name);let o={title:e.senderData.name,body:t},s=document.hidden;if(s&&this.notify){let e=o.title,t=o.body;this.notify.setTitle(!0),this.notify.setTitle("[新消息]"),this.notify.notify({title:e,body:t,icon:"https://www.goeasy.io/favicon.ico"})}},_.prototype.clearNotificationTitle=function(){this.notify&&this.notify.setTitle()};var v=i("f264"),y=i.n(v),b=i("bcb4"),w=i.n(b),k=i("c7a6"),C=i.n(k);const E=new _;var x={name:"consult",components:{EmojiPicker:a.a},data(){return{qrCode:{value:"",visible:!1},welcome:{message:"",visible:!0},currentUser:{id:"",data:{name:"",avatar:""}},team:{id:"goeasy-customer-support",data:{name:"GoEasy Support Team",avatar:""}},history:{messages:[],allLoaded:!1,loading:!1},text:"",to:{}}},async created(){let{data:e}=await w.a.getWelcome();this.welcome.message=e,await this.initUserInfoAndConnectGoEasy(),this.to={type:y.a.IM_SCENE.CS,id:this.team.id,data:this.team.data}},computed:{showTime(){return e=>0===e||this.history.messages[e].timestamp-this.history.messages[e-1].timestamp>3e5}},filters:{fixContent:function(e){if(e)return e.length>=20?e.substring(0,10)+"..."+e.substr(-10):e},fixFileSize:function(e){if(0===e)return"1 B";{let t=1e3,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(t));return(e/Math.pow(t,o)).toPrecision(3)+" "+i[o]}}},methods:{async initUserInfoAndConnectGoEasy(){let e=this.$route.query.accountGuid,t=new C.a(this.goEasy,this.initUserInfoAndConnectGoEasy,this.qrCode,e),i=await t.isCollected();i?(this.currentUser=t.userInfo(),this.connectGoEasy()):t.collect()},async connectGoEasy(){await this.connect(),this.initListeners(),this.loadHistory(!0),this.markAsRead()},async connect(){this.goEasy.connect({id:this.currentUser.id,data:this.currentUser.data,onSuccess:function(){console.log("GoEasy connect successfully.")},onFailed:function(e){console.log("Failed to connect GoEasy, code:"+e.code+",error:"+e.content)},onProgress:function(e){console.log("GoEasy is connecting",e)}})},initListeners(){document.addEventListener("visibilitychange",()=>{let e=document.hidden;e||E.clearNotificationTitle()}),this.im.on(y.a.IM_EVENT.CS_MESSAGE_RECEIVED,this.onMessageReceived)},onMessageReceived(e){this.history.messages.push(e),this.scrollToBottom(),E.sendNotification(e)},enterSendMessage(e){e.shiftKey&&13===e.keyCode?(e.preventDefault(),this.text=this.text+"\n"):13===e.keyCode&&(e.preventDefault(),this.sendTextMessage())},paste(e){let t=e.clipboardData.files[0];t&&this.sendImage(t)},sendMessage(e){this.welcome.visible=!1,this.history.messages.push(e),this.scrollToBottom(),this.im.sendMessage({message:e,onSuccess:()=>{console.log("发送成功")},onFailed:e=>{console.log("send message err:",e)}})},sendTextMessage(){this.text.trim().length>0&&(this.im.createTextMessage({text:this.text,to:this.to,onSuccess:e=>{this.sendMessage(e)},onFailed:e=>{console.log("create text message err:",e)}}),this.text="")},sendFileMessage(e){const t=e.target.files[0],i=this.im.createFileMessage({file:t,to:this.to});this.sendMessage(i)},sendImageMessage(e){let t=e.target.files[0];this.im.createImageMessage({file:t,to:this.to,onSuccess:e=>{this.sendMessage(e)},onFailed:e=>{console.log("create file message err:",e)}})},sendVideoMessage(e){let t=e.target.files[0];this.im.createVideoMessage({file:t,to:this.to,onSuccess:e=>{this.sendMessage(e)},onFailed:e=>{console.log("create video message err:",e)}})},chooseEmoji(e){this.text+=e},showImage(e){this.callParentFunction("showImage",{url:e})},showVideo(e){this.callParentFunction("showVideo",{url:e})},markAsRead(){this.im.markMessageAsRead({type:y.a.IM_SCENE.CS,id:this.team.id,onSuccess:function(){console.log("标记已读成功")},onFailed:function(e){console.log("标记已读失败",e)}})},loadHistory(e){let t;this.history.loading=!0;let i=this.history.messages[0];i&&(t=i.timestamp);let o=10;this.im.history({type:this.GoEasy.IM_SCENE.CS,id:this.team.id,lastTimestamp:t,limit:o,onSuccess:i=>{this.history.loading=!1;let o=i.content;0===o.length?this.history.allLoaded=!0:(this.history.messages=t?o.concat(this.history.messages):o,e&&(this.markAsRead(),this.scrollToBottom()))},onFailed:e=>{this.history.loading=!1,console.log("load history err:",e)}})},scrollToBottom(){this.$nextTick(()=>{let e=document.getElementById("scroll");e.scrollTop=e.scrollHeight})},formatDate(e){e=e||Date.now();let t=new Date(e),i=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1;return i+="-",i+=t.getDate()<10?"0"+t.getDate():t.getDate(),i+=" ",i+=t.getHours(),i+=":",i+=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),i},closeConsultBox(){this.callParentFunction("switchPopup")},callParentFunction(e,t){const i=document.referrer;window.parent.postMessage({function:e,parameters:t},i)}}},M=x,T=(i("dee9"),i("2877")),B=Object(T["a"])(M,o,s,!1,null,"0ebdc26c",null);t["default"]=B.exports},"4c5f":function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAAQALMNAD8/P7+/vyoqKlVVVX9/fxUVFUBAQGBgYMDAwC8vL5CQkP///wAAAP///wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAAANACwAAAAAEAAQAAAEPbDJSau9OOvNew0AEHDA8wCkiW6g6AXHMU4LgizUYRgEZdsUggFAQCgUP+AERggcFYHaDaMgEBQchBNhiQAAIfkECQAADQAsAAAAABAAEAAABDuwyUmrvTYAEDAFzwN4EyiSksaRyHF06GEYBNoQ82EHBwHbCIUCYRMKiwSCYoFALDCIwLDZBFJtTKclAgAh+QQJAAANACwAAAAAEAAQAAAEPrDJGQAIM2vwHtAUcVTdBzaHYRCKip2EepxacBAvjSgKQmc83m+iILCGEkSgh5wsEIhFEwqdUpvPaHPLnUQAACH5BAkAAA0ALAAAAAAQABAAAAQ+sMkZyAkz62MM0ROiKAjRXQCATeOIHEQAPA+QKQShZHOdIQFSRqaSLBCIBQiERC41TcQzc0xOr9isdsvtPiMAIfkECQAADQAsAAAAABAAEAAABD2wyYmUQjNra/VcCLIoBKEExBFkYRtcBGAQbJsdhnFkoMimGI8wAACshBnA4wFAJpdNp4RolFqv2Kx2q4kAACH5BAkAAA0ALAAAAAAQABAAAAQ9sMm5EFoza2u1b5ylKMjXVFdAjGamrEo7IWMpz8QR3A0BGATewWA48BA5mykAAOxugMcDwItOeUwnb9uKAAAh+QQJAAANACwAAAAAEAAQAAAEO7DJSau92C6EVp4c90khMjZbd5KKYo4B0Z4KIZ9I4H7IQQSng8FwwAQAgJgBQMAAHo+kD3h5Rk/HpCUCACH5BAkAAA0ALAAAAAAQABAAAAQ8sMlJq7046827nwuCLJwoliYXjlIAAAGFKApCAc8DULQSTzgd4kCYEQgKigt2MBgOC5rtQnAeOAHilBIBADs="},"4e86":function(e,t,i){e.exports=i.p+"img/logo.897bbe5b.png"},5726:function(e,t,i){e.exports=i.p+"img/default.f0e98eaa.png"},"669f":function(e,t,i){!function(t,i){e.exports=i()}(0,(function(){return function(e){function t(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist-module/",t(t.s=3)}([function(e,t,i){var o=i(4)(i(1),i(5),null,null,null);e.exports=o.exports},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(2),s=function(e){return e&&e.__esModule?e:{default:e}}(o),n=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};t.default={props:{search:{type:String,required:!1,default:""},emojiTable:{type:Object,required:!1,default:function(){return s.default}}},data:function(){return{display:{x:0,y:0,visible:!1}}},computed:{emojis:function(){if(this.search){var e={};for(var t in this.emojiTable){for(var i in e[t]={},this.emojiTable[t])new RegExp(".*"+n(this.search)+".*").test(i)&&(e[t][i]=this.emojiTable[t][i]);0===Object.keys(e[t]).length&&delete e[t]}return e}return this.emojiTable}},methods:{insert:function(e){this.$emit("emoji",e)},toggle:function(e){this.display.visible=!this.display.visible,this.display.x=e.clientX,this.display.y=e.clientY},hide:function(){this.display.visible=!1},escape:function(e){!0===this.display.visible&&27===e.keyCode&&(this.display.visible=!1)}},directives:{"click-outside":{bind:function(e,t,i){if("function"==typeof t.value){var o=t.modifiers.bubble,s=function(i){(o||!e.contains(i.target)&&e!==i.target)&&t.value(i)};e.__vueClickOutside__=s,document.addEventListener("click",s)}},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},mounted:function(){document.addEventListener("keyup",this.escape)},destroyed:function(){document.removeEventListener("keyup",this.escape)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Frequently used":{thumbs_up:"👍","-1":"👎",sob:"😭",confused:"😕",neutral_face:"😐",blush:"😊",heart_eyes:"😍"},People:{smile:"😄",smiley:"😃",grinning:"😀",blush:"😊",wink:"😉",heart_eyes:"😍",kissing_heart:"😘",kissing_closed_eyes:"😚",kissing:"😗",kissing_smiling_eyes:"😙",stuck_out_tongue_winking_eye:"😜",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue:"😛",flushed:"😳",grin:"😁",pensive:"😔",relieved:"😌",unamused:"😒",disappointed:"😞",persevere:"😣",cry:"😢",joy:"😂",sob:"😭",sleepy:"😪",disappointed_relieved:"😥",cold_sweat:"😰",sweat_smile:"😅",sweat:"😓",weary:"😩",tired_face:"😫",fearful:"😨",scream:"😱",angry:"😠",rage:"😡",triumph:"😤",confounded:"😖",laughing:"😆",yum:"😋",mask:"😷",sunglasses:"😎",sleeping:"😴",dizzy_face:"😵",astonished:"😲",worried:"😟",frowning:"😦",anguished:"😧",imp:"👿",open_mouth:"😮",grimacing:"😬",neutral_face:"😐",confused:"😕",hushed:"😯",smirk:"😏",expressionless:"😑",man_with_gua_pi_mao:"👲",man_with_turban:"👳",cop:"👮",construction_worker:"👷",guardsman:"💂",baby:"👶",boy:"👦",girl:"👧",man:"👨",woman:"👩",older_man:"👴",older_woman:"👵",person_with_blond_hair:"👱",angel:"👼",princess:"👸",smiley_cat:"😺",smile_cat:"😸",heart_eyes_cat:"😻",kissing_cat:"😽",smirk_cat:"😼",scream_cat:"🙀",crying_cat_face:"😿",joy_cat:"😹",pouting_cat:"😾",japanese_ogre:"👹",japanese_goblin:"👺",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",skull:"💀",alien:"👽",hankey:"💩",fire:"🔥",sparkles:"✨",star2:"🌟",dizzy:"💫",boom:"💥",anger:"💢",sweat_drops:"💦",droplet:"💧",zzz:"💤",dash:"💨",ear:"👂",eyes:"👀",nose:"👃",tongue:"👅",lips:"👄",thumbs_up:"👍","-1":"👎",ok_hand:"👌",facepunch:"👊",fist:"✊",wave:"👋",hand:"✋",open_hands:"👐",point_up_2:"👆",point_down:"👇",point_right:"👉",point_left:"👈",raised_hands:"🙌",pray:"🙏",clap:"👏",muscle:"💪",walking:"🚶",runner:"🏃",dancer:"💃",couple:"👫",family:"👪",couplekiss:"💏",couple_with_heart:"💑",dancers:"👯",ok_woman:"🙆",no_good:"🙅",information_desk_person:"💁",raising_hand:"🙋",massage:"💆",haircut:"💇",nail_care:"💅",bride_with_veil:"👰",person_with_pouting_face:"🙎",person_frowning:"🙍",bow:"🙇",tophat:"🎩",crown:"👑",womans_hat:"👒",athletic_shoe:"👟",mans_shoe:"👞",sandal:"👡",high_heel:"👠",boot:"👢",shirt:"👕",necktie:"👔",womans_clothes:"👚",dress:"👗",running_shirt_with_sash:"🎽",jeans:"👖",kimono:"👘",bikini:"👙",briefcase:"💼",handbag:"👜",pouch:"👝",purse:"👛",eyeglasses:"👓",ribbon:"🎀",closed_umbrella:"🌂",lipstick:"💄",yellow_heart:"💛",blue_heart:"💙",purple_heart:"💜",green_heart:"💚",broken_heart:"💔",heartpulse:"💗",heartbeat:"💓",two_hearts:"💕",sparkling_heart:"💖",revolving_hearts:"💞",cupid:"💘",love_letter:"💌",kiss:"💋",ring:"💍",gem:"💎",bust_in_silhouette:"👤",speech_balloon:"💬",footprints:"👣"},Nature:{dog:"🐶",wolf:"🐺",cat:"🐱",mouse:"🐭",hamster:"🐹",rabbit:"🐰",frog:"🐸",tiger:"🐯",koala:"🐨",bear:"🐻",pig:"🐷",pig_nose:"🐽",cow:"🐮",boar:"🐗",monkey_face:"🐵",monkey:"🐒",horse:"🐴",sheep:"🐑",elephant:"🐘",panda_face:"🐼",penguin:"🐧",bird:"🐦",baby_chick:"🐤",hatched_chick:"🐥",hatching_chick:"🐣",chicken:"🐔",snake:"🐍",turtle:"🐢",bug:"🐛",bee:"🐝",ant:"🐜",beetle:"🐞",snail:"🐌",octopus:"🐙",shell:"🐚",tropical_fish:"🐠",fish:"🐟",dolphin:"🐬",whale:"🐳",racehorse:"🐎",dragon_face:"🐲",blowfish:"🐡",camel:"🐫",poodle:"🐩",feet:"🐾",bouquet:"💐",cherry_blossom:"🌸",tulip:"🌷",four_leaf_clover:"🍀",rose:"🌹",sunflower:"🌻",hibiscus:"🌺",maple_leaf:"🍁",leaves:"🍃",fallen_leaf:"🍂",herb:"🌿",ear_of_rice:"🌾",mushroom:"🍄",cactus:"🌵",palm_tree:"🌴",chestnut:"🌰",seedling:"🌱",blossom:"🌼",new_moon:"🌑",first_quarter_moon:"🌓",moon:"🌔",full_moon:"🌕",first_quarter_moon_with_face:"🌛",crescent_moon:"🌙",earth_asia:"🌏",volcano:"🌋",milky_way:"🌌",stars:"🌠",partly_sunny:"⛅",snowman:"⛄",cyclone:"🌀",foggy:"🌁",rainbow:"🌈",ocean:"🌊"},Objects:{bamboo:"🎍",gift_heart:"💝",dolls:"🎎",school_satchel:"🎒",mortar_board:"🎓",flags:"🎏",fireworks:"🎆",sparkler:"🎇",wind_chime:"🎐",rice_scene:"🎑",jack_o_lantern:"🎃",ghost:"👻",santa:"🎅",christmas_tree:"🎄",gift:"🎁",tanabata_tree:"🎋",tada:"🎉",confetti_ball:"🎊",balloon:"🎈",crossed_flags:"🎌",crystal_ball:"🔮",movie_camera:"🎥",camera:"📷",video_camera:"📹",vhs:"📼",cd:"💿",dvd:"📀",minidisc:"💽",floppy_disk:"💾",computer:"💻",iphone:"📱",telephone_receiver:"📞",pager:"📟",fax:"📠",satellite:"📡",tv:"📺",radio:"📻",loud_sound:"🔊",bell:"🔔",loudspeaker:"📢",mega:"📣",hourglass_flowing_sand:"⏳",hourglass:"⌛",alarm_clock:"⏰",watch:"⌚",unlock:"🔓",lock:"🔒",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",mag_right:"🔎",bulb:"💡",flashlight:"🔦",electric_plug:"🔌",battery:"🔋",mag:"🔍",bath:"🛀",toilet:"🚽",wrench:"🔧",nut_and_bolt:"🔩",hammer:"🔨",door:"🚪",smoking:"🚬",bomb:"💣",gun:"🔫",hocho:"🔪",pill:"💊",syringe:"💉",moneybag:"💰",yen:"💴",dollar:"💵",credit_card:"💳",money_with_wings:"💸",calling:"📲","e-mail":"📧",inbox_tray:"📥",outbox_tray:"📤",envelope_with_arrow:"📩",incoming_envelope:"📨",mailbox:"📫",mailbox_closed:"📪",postbox:"📮",package:"📦",memo:"📝",page_facing_up:"📄",page_with_curl:"📃",bookmark_tabs:"📑",bar_chart:"📊",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",scroll:"📜",clipboard:"📋",date:"📅",calendar:"📆",card_index:"📇",file_folder:"📁",open_file_folder:"📂",pushpin:"📌",paperclip:"📎",straight_ruler:"📏",triangular_ruler:"📐",closed_book:"📕",green_book:"📗",blue_book:"📘",orange_book:"📙",notebook:"📓",notebook_with_decorative_cover:"📔",ledger:"📒",books:"📚",book:"📖",bookmark:"🔖",name_badge:"📛",newspaper:"📰",art:"🎨",clapper:"🎬",microphone:"🎤",headphones:"🎧",musical_score:"🎼",musical_note:"🎵",notes:"🎶",musical_keyboard:"🎹",violin:"🎻",trumpet:"🎺",saxophone:"🎷",guitar:"🎸",space_invader:"👾",video_game:"🎮",black_joker:"🃏",flower_playing_cards:"🎴",mahjong:"🀄",game_die:"🎲",dart:"🎯",football:"🏈",basketball:"🏀",soccer:"⚽",baseball:"⚾",tennis:"🎾","8ball":"🎱",bowling:"🎳",golf:"⛳",checkered_flag:"🏁",trophy:"🏆",ski:"🎿",snowboarder:"🏂",swimmer:"🏊",surfer:"🏄",fishing_pole_and_fish:"🎣",tea:"🍵",sake:"🍶",beer:"🍺",beers:"🍻",cocktail:"🍸",tropical_drink:"🍹",wine_glass:"🍷",fork_and_knife:"🍴",pizza:"🍕",hamburger:"🍔",fries:"🍟",poultry_leg:"🍗",meat_on_bone:"🍖",spaghetti:"🍝",curry:"🍛",fried_shrimp:"🍤",bento:"🍱",sushi:"🍣",fish_cake:"🍥",rice_ball:"🍙",rice_cracker:"🍘",rice:"🍚",ramen:"🍜",stew:"🍲",oden:"🍢",dango:"🍡",egg:"🍳",bread:"🍞",doughnut:"🍩",custard:"🍮",icecream:"🍦",ice_cream:"🍨",shaved_ice:"🍧",birthday:"🎂",cake:"🍰",cookie:"🍪",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",honey_pot:"🍯",apple:"🍎",green_apple:"🍏",tangerine:"🍊",cherries:"🍒",grapes:"🍇",watermelon:"🍉",strawberry:"🍓",peach:"🍑",melon:"🍈",banana:"🍌",pineapple:"🍍",sweet_potato:"🍠",eggplant:"🍆",tomato:"🍅",corn:"🌽"},Places:{house:"🏠",house_with_garden:"🏡",school:"🏫",office:"🏢",post_office:"🏣",hospital:"🏥",bank:"🏦",convenience_store:"🏪",love_hotel:"🏩",hotel:"🏨",wedding:"💒",church:"⛪",department_store:"🏬",city_sunrise:"🌇",city_sunset:"🌆",japanese_castle:"🏯",european_castle:"🏰",tent:"⛺",factory:"🏭",tokyo_tower:"🗼",japan:"🗾",mount_fuji:"🗻",sunrise_over_mountains:"🌄",sunrise:"🌅",night_with_stars:"🌃",statue_of_liberty:"🗽",bridge_at_night:"🌉",carousel_horse:"🎠",ferris_wheel:"🎡",fountain:"⛲",roller_coaster:"🎢",ship:"🚢",boat:"⛵",speedboat:"🚤",rocket:"🚀",seat:"💺",station:"🚉",bullettrain_side:"🚄",bullettrain_front:"🚅",metro:"🚇",railway_car:"🚃",bus:"🚌",blue_car:"🚙",car:"🚗",taxi:"🚕",truck:"🚚",rotating_light:"🚨",police_car:"🚓",fire_engine:"🚒",ambulance:"🚑",bike:"🚲",barber:"💈",busstop:"🚏",ticket:"🎫",traffic_light:"🚥",construction:"🚧",beginner:"🔰",fuelpump:"⛽",izakaya_lantern:"🏮",slot_machine:"🎰",moyai:"🗿",circus_tent:"🎪",performing_arts:"🎭",round_pushpin:"📍",triangular_flag_on_post:"🚩"},Symbols:{keycap_ten:"🔟",1234:"🔢",symbols:"🔣",capital_abcd:"🔠",abcd:"🔡",abc:"🔤",arrow_up_small:"🔼",arrow_down_small:"🔽",rewind:"⏪",fast_forward:"⏩",arrow_double_up:"⏫",arrow_double_down:"⏬",ok:"🆗",new:"🆕",up:"🆙",cool:"🆒",free:"🆓",ng:"🆖",signal_strength:"📶",cinema:"🎦",koko:"🈁",u6307:"🈯",u7a7a:"🈳",u6e80:"🈵",u5408:"🈴",u7981:"🈲",ideograph_advantage:"🉐",u5272:"🈹",u55b6:"🈺",u6709:"🈶",u7121:"🈚",restroom:"🚻",mens:"🚹",womens:"🚺",baby_symbol:"🚼",wc:"🚾",no_smoking:"🚭",u7533:"🈸",accept:"🉑",cl:"🆑",sos:"🆘",id:"🆔",no_entry_sign:"🚫",underage:"🔞",no_entry:"⛔",negative_squared_cross_mark:"❎",white_check_mark:"✅",heart_decoration:"💟",vs:"🆚",vibration_mode:"📳",mobile_phone_off:"📴",ab:"🆎",diamond_shape_with_a_dot_inside:"💠",ophiuchus:"⛎",six_pointed_star:"🔯",atm:"🏧",chart:"💹",heavy_dollar_sign:"💲",currency_exchange:"💱",x:"❌",exclamation:"❗",question:"❓",grey_exclamation:"❕",grey_question:"❔",o:"⭕",top:"🔝",end:"🔚",back:"🔙",on:"🔛",soon:"🔜",arrows_clockwise:"🔃",clock12:"🕛",clock1:"🕐",clock2:"🕑",clock3:"🕒",clock4:"🕓",clock5:"🕔",clock6:"🕕",clock7:"🕖",clock8:"🕗",clock9:"🕘",clock10:"🕙",clock11:"🕚",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",white_flower:"💮",100:"💯",radio_button:"🔘",link:"🔗",curly_loop:"➰",trident:"🔱",small_red_triangle:"🔺",black_square_button:"🔲",white_square_button:"🔳",red_circle:"🔴",large_blue_circle:"🔵",small_red_triangle_down:"🔻",white_large_square:"⬜",black_large_square:"⬛",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPickerPlugin=t.EmojiPicker=void 0;var o=i(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),n={install:function(e){e.component("emoji-picker",s.default)}};"undefined"!=typeof window&&(window.EmojiPicker=n),t.EmojiPicker=s.default,t.EmojiPickerPlugin=n,t.default=s.default},function(e,t){e.exports=function(e,t,i,o,s){var n,a=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(n=e,a=e.default);var c,l="function"==typeof a?a.options:a;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),o&&(l._scopeId=o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=i),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(e,t){return c.call(t),d(e,t)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:n,exports:a,options:l}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("emoji-invoker",null,{events:{click:function(t){return e.toggle(t)}}}),e._v(" "),e.display.visible?i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}]},[e._t("emoji-picker",null,{emojis:e.emojis,insert:e.insert,display:e.display})],2):e._e()],2)},staticRenderFns:[]}}])}))},"6f68":function(e,t,i){},"79d5":function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAAQALMMAKqooJGOhp2bk7e1rZ2bkre1rJCPhqqon8PBudDOxXd1bISCef///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAMACwAAAAAEAAQAAAET5DJyYyhmAZ7sxQEs1nMsmACGJKmSaVEOLXnK1PuBADepCiMg/DQ+/2GRI8RKOxJfpTCIJNIYArS6aRajWYZCASDa41Ow+Fx2YMWOyfpTAQAIfkEBQAADAAsAAAAABAAEAAABE6QyckEoZgKe7MEQMUxhoEd6FFdQWlOqTq15SlT9VQM3rQsjMKO5/n9hANixgjc9SQ/CgKRUSgw0ynFapVmGYkEg3v1gsPibg8tfk7CnggAIfkEBQAADAAsAAAAABAAEAAABE2QycnOoZjaA/IsRWV1goCBoMiUJTW8A0XMBPZmM4Ug3hQEjN2uZygahDyP0RBMEpmTRCKzWGCkUkq1SsFOFQrG1tr9gsPc3jnco4A9EQAh+QQFAAAMACwAAAAAEAAQAAAETpDJyUqhmFqbJ0LMIA7McWDfF5LmAVApOLUvLFMmlSTdJAiM3a73+wl5HYKSEET2lBSFIhMIYKRSimFriGIZiwWD2/WCw+Jt7xxeU9qZCAAh+QQFAAAMACwAAAAAEAAQAAAETZDJyRCimFqbZ0rVxgwF9n3hSJbeSQ2rCWIkpSjddBzMfee7nQ/XCfJ+OQYAQFksMgQBxumkEKLSCfVpMDCugqyW2w18xZmuwZycdDsRACH5BAUAAAwALAAAAAAQABAAAARNkMnJUqKYWpunUtXGIAj2feFIlt5JrWybkdSydNNQMLaND7pC79YBFnY+HENHMRgyhwPGaQhQotGm00oQMLBSLYPQ9QIASrLAq5x0OxEAIfkEBQAADAAsAAAAABAAEAAABE2QycmUopham+da1cYkCfZ94UiW3kmtbJuRlGF0E4Iwto3rut6tA9wFAjiJjkIgZAYDTLNJgUIpgqyAcTgwCuACJssAdL3gpLmbpLAzEQA7"},"7f56":function(e,t,i){e.exports=i.p+"img/history.a3c10772.svg"},"8daa":function(e,t,i){"use strict";i.r(t);var o=i("fa7d"),s=i("bc3a"),n=i.n(s);const a=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ENV,r=["/api/v2/cs-customer/public"];function c(e){for(let t=0;t<r.length;t++){let i=r[t];if(e.includes(i))return!0}return!1}function l(){let e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHttp");let t=`https://${a}sso.goeasy.io`,i=o["default"].getCookie("goeasy.token.expiresAtMillis."+a),s=(new Date).getTime();if(e&&i-s<36e5){let i=o["default"].getRefreshToken();e.open("post",t+"/refreshtoken",!0),e.setRequestHeader("content-type","application/x-www-form-urlencoded"),e.send("refreshToken="+i),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){let t=JSON.parse(e.responseText),i=t.token,s=t.refreshToken,n=t.expiresAtMillis;o["default"].storeTokens(i,s,n)}}}}const u=n.a.create({baseURL:"",timeout:6e4});u.interceptors.request.use(e=>{let t=e.url,i=c(t);if(!i){l();const t=o["default"].getAccessToken();t&&(e.headers["Authorization"]="Bearer "+t)}return e},e=>Promise.reject(e)),u.interceptors.response.use(e=>e.data,e=>Promise.reject(e)),t["default"]=u},a730:function(e,t,i){e.exports=i.p+"img/file.28935fe1.svg"},af01:function(e,t,i){e.exports=i.p+"img/emoji.26263a0d.svg"},b5d0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHFSURBVHgB5VftUcMwDFU4BggTkA0IE5Bu0BHCBHSEMgHdIN2AYwJ3g7JBwwTtBkICmaq+xJFN+MW7e+21lvTkLykB+G8oUowRsaGvB2It9DgRe+IbcVcURQ9zgAWJDu3oiBXkgpxL4qsK6IgrYs1jgR0ntyUexPbItpAKzlgFOcgyW/3WKtkXsCIQ3erZZcawiZPh3ovCLxCIr6aMW7+8MAPkPPg9r2KGPsMKZoLa882YgZ9tFwnylHpd5NQfheWQgRPhJhLE6RNrTYBnKz7t0OBXVhMBtLC/ai1MCy8HV1MdApcorBOoI36V2O3595Ua82vfQx4qIl/DwTur6ncZCs+FpcVIC/fyfQN54A71TLwfGlSnme3gOnBk3EE6dsTHiXbo9/+DP35mTE4nCcCH4BZseCcuyHdh6MENnJO8hKow6zFvuY/JLQ9jFVEqDI5WmEyoiuhiRr7C2PtoXFR3qDpmWKK1ldmEncTaWIxrVZGyxGUCnapqtq1T+4KY3o0avHxsMvv6AHUQoBvbJzw/8DmVsMPcQyqHY4uXOErQTriX//R4C3NAEljheHdiMX4UNtXqpDeJMBH47khc8U6zvT38NT4B7i4KZnxWPwoAAAAASUVORK5CYII="},bcb4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("8daa"),s="https://".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ENV,"center.goeasy.io"),n=function(){function e(){}return e.prototype.getQRCode=function(e){var t="".concat(s,"/api/v2/cs-customer/public/qrcode?uuid=").concat(e);return(0,o.default)({method:"get",url:t})},e.prototype.getUserInfo=function(e){var t="".concat(s,"/api/v2/cs-customer/public/contact/").concat(e);return(0,o.default)({url:t,method:"get"})},e.prototype.getWelcome=function(){var e="".concat(s,"/api/v2/cs-customer/public/welcome");return(0,o.default)({url:e,method:"get"})},e.prototype.getOTP=function(){var e="".concat(s,"/api/v2/cs-customer/public/otp");return(0,o.default)({url:e,method:"post"})},e.prototype.saveAccountUser=function(e){var t="".concat(s,"/api/v2/cs-customer/console/contact/").concat(e.openId,"/account");return(0,o.default)({url:t,method:"POST",data:{accountGuid:e.accountGuid}})},e}();t.default=new n},c7a6:function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(t){n(t)}}function r(e){try{c(o["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):s(e.value).then(a,r)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,o,s,n,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function r(e){return function(t){return c([e,t])}}function c(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,o&&(s=2&n[0]?o["return"]:n[0]?o["throw"]||((s=o["return"])&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(r){n=[6,r],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0});var n=i("fa7d"),a=i("bcb4"),r=function(){function e(e,t,i,o){this.goEasy=e,this.onCollected=t,this.qrCode=i,this.accountGuid=o,this.userCookieInfo=this.getUserFromCookie(),this.tryLinkContactAccount()}return e.prototype.tryLinkContactAccount=function(){this.accountGuid&&this.userCookieInfo&&a.default.saveAccountUser({openId:this.userCookieInfo.openId,accountGuid:this.accountGuid}).then((function(e){console.log("link account user successfully:",e)})).catch((function(e){console.log("link account user failed:",e)}))},e.prototype.isCollected=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.userCookieInfo?[4,a.default.getUserInfo(this.userCookieInfo.openId)]:[3,2];case 1:if(e=t.sent().data,e.followed)return this.followedUser={id:e.officialOpenId,data:{name:e.nickname,avatar:e.avatar}},[2,!0];t.label=2;case 2:return[2,!1]}}))}))},e.prototype.collect=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=this.accountGuid?this.accountGuid:n.default.getAnonymousRandomGuid(),[4,this.connectPubsub(e)];case 1:return t.sent(),[4,this.showQRCode(e)];case 2:return t.sent(),[2]}}))}))},e.prototype.onFollowed=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.saveFollowedUser(e),[4,this.disconnectPubsub()];case 1:return t.sent(),this.onCollected(),this.hideQRCode(),[2]}}))}))},e.prototype.userInfo=function(){return this.followedUser},e.prototype.connectPubsub=function(e){var t=this;return new Promise((function(i,o){t.goEasy.connect({id:e,onSuccess:function(){console.log("GoEasy pubsub connect successfully.")},onFailed:function(e){console.log("Failed to connect GoEasy pubsub:",e)},onProgress:function(e){console.log("GoEasy pubsub is connecting",e)}}),t.goEasy.pubsub.subscribe({channel:e,onMessage:function(e){t.onFollowed(JSON.parse(e.content))},onSuccess:function(){console.log("subscribe scan qrcode success"),i()},onFailed:function(e){console.log("subscribe scan qrcode error",e),o()}})}))},e.prototype.saveFollowedUser=function(e){this.followedUser={id:e.openId,data:{name:e.name,avatar:e.avatar}},this.saveFollowedUserToCookie(e)},e.prototype.getUserFromCookie=function(){var e,t=new RegExp("(^| )goeasy.desk=([^;]*)(;|$)");if(e=document.cookie.match(t)){var i=unescape(e[2]);return JSON.parse(i)}return null},e.prototype.saveFollowedUserToCookie=function(e){var t=30,i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3),document.cookie="goeasy.desk="+escape(JSON.stringify(e))+";expires="+i.toUTCString()+";path=/;domain=.goeasy.io",this.userCookieInfo=e},e.prototype.showQRCode=function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return[4,a.default.getQRCode(e)];case 1:return t=i.sent().data,this.qrCode.value=t,this.qrCode.visible=!0,[2]}}))}))},e.prototype.hideQRCode=function(){this.qrCode.visible=!1},e.prototype.disconnectPubsub=function(){var e=this;return new Promise((function(t,i){e.goEasy.disconnect({onSuccess:function(){console.log("GoEasy disconnect successfully"),t()},onFailed:function(e){console.log("Failed to disconnect GoEasy:",e),i(e)}})}))},e}();t.default=r},c821:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAP1BMVEUAAADsWDrvWTrvWTruWjvuWTvsVz3rVEDuWTvuWTvuWDruWjvvWTvvWjruWTv////ygmzwblPvY0f0l4TxeGB8BezSAAAADnRSTlMAYN+v75BQEIDPsM/Pf6ieeMkAAACGSURBVBjTbZDbEoMgDESTgKC9bET7/9/aajBUcV/YnNmZkKVdmYMAr8DUlCKqxPGAP72NjTYtxd5hY2y+qC7m0g+K2Vl1NhczMa4QTKGHD5p6KIQe4h5KNZ8Gn74I6wpfxIBf5F/K8XqRbBXVoGo5gq2kUoPjqSYvycRyoJioicMESOC8T1/VVRDZtVqLEwAAAABJRU5ErkJggg=="},ca1e:function(e,t,i){e.exports=i.p+"img/pull.458ffe2d.svg"},dee9:function(e,t,i){"use strict";i("6f68")},fa7d:function(e,t,i){"use strict";i.r(t);class o{getAnonymousRandomGuid(){return"anonymous"+this.getRandomGuid()}getAccessToken(){let e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ENV,t=this.getCookie("goeasy.token."+e);return t}getRefreshToken(){let e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ENV,t=this.getCookie("goeasy.refreshToken."+e);return t}storeTokens(e,t,i){let o=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ENV;this.setCookie("goeasy.token."+o,e),this.setCookie("goeasy.refreshToken."+o,t),this.setCookie("goeasy.token.expiresAtMillis."+o,i+"")}setCookie(e,t){console.log("will set "+e+"with value: "+t),document.cookie=e+"="+escape(t)+";domain=goeasy.io"}getRandomGuid(){return"-xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)}))}getCookie(e){let t,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null}}t["default"]=new o}}]);
//# sourceMappingURL=chunk-2d7026f2.aa095e58.js.map