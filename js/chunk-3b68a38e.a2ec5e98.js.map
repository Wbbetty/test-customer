{"version":3,"sources":["webpack:///./src/customer/index.vue?1214","webpack:///./src/customer/api/http.ts","webpack:///./src/customer/api/api.ts","webpack:///./src/customer/index.vue?77e4","webpack:///src/customer/index.vue","webpack:///./src/customer/index.vue?b250","webpack:///./src/customer/index.vue","webpack:///./src/customer/images/loading.gif","webpack:///./src/customer/images/logo.png","webpack:///./node_modules/vue-emoji-picker/dist-module/main.js","webpack:///./src/customer/images/pending.gif","webpack:///./src/customer/images/history.svg","webpack:///./src/customer/images/file.svg","webpack:///./src/customer/images/emoji.svg","webpack:///./src/customer/userinfo-collector.ts","webpack:///./src/customer/images/failed.png","webpack:///./src/customer/images/pull.svg"],"names":["Object","defineProperty","exports","value","axios_1","Http","config","_this","this","whiteList","cookie_token_key","concat","sso_cookie_suffix","cookie_refresh_token_key","cookie_expiresAtMillis_key","call","default","create","baseURL","timeout","interceptors","request","use","isWhiteList","url","checkAndRefreshToken","token","getAccessToken","headers","error","Promise","reject","response","data","prototype","xhr","window","XMLHttpRequest","ActiveXObject","expiresAt","getExpiresAtMillis","currentTime","Date","getTime","refreshToken","getRefreshToken","open","sso_host","setRequestHeader","send","onreadystatechange","readyState","status","result","JSON","parse","responseText","newToken","newRefreshToken","expiresAtMillis","storeTokens","requestUrl","i","length","includes","getCookie","setCookie","name","console","log","document","cookie","escape","arr","reg","RegExp","match","unescape","http_1","Api","rest_host","http","getQRCode","uuid","method","getUserInfo","openId","getWelcome","getOTP","saveAccountUser","params","accountGuid","render","_vm","_c","_self","attrs","staticClass","_v","on","closeConsultBox","qrCode","directives","rawName","expression","_e","ref","history","$event","loadHistory","_l","message","index","key","showTime","_s","formatDate","timestamp","class","senderId","currentUser","id","senderData","avatar","type","payload","text","showImage","style","height","getImageHeight","width","_f","size","showVideo","video","thumbnail","welcome","domProps","chooseEmoji","scopedSlots","_u","fn","events","stopPropagation","click","apply","arguments","emojiGroup","category","emoji","emojiName","insert","sendImageMessage","sendVideoMessage","sendFileMessage","pasteImageMessage","sendMessageByEnter","target","composing","sendTextMessage","_m","version","staticRenderFns","IMAGE_MAX_WIDTH","IMAGE_MAX_HEIGHT","components","EmojiPicker","visible","team","messages","allLoaded","loading","to","goEasy","api","decodeURIComponent","$route","query","cs_customer_config","getInstance","host","goEasy_host","appkey","goEasy_appKey","modules","allowNotification","initUserInfoAndConnectGoEasy","IM_SCENE","CS","computed","filters","fixContent","content","substring","substr","fixFileSize","k","sizes","Math","floor","pow","toPrecision","methods","userInfoCollector","collected","isCollected","userInfo","connectGoEasy","collect","connect","initListeners","markAsRead","otpData","otp","wxmpId","appid","openid","onSuccess","onFailed","code","onProgress","attempts","addEventListener","hidden","callParentFunction","im","IM_EVENT","CS_MESSAGE_RECEIVED","onMessageReceived","push","scrollToBottom","createNotification","visibilityState","notification","title","body","event","shiftKey","keyCode","preventDefault","e","file","clipboardData","files","createImageMessage","sendMessage","err","trim","createTextMessage","fileMessage","createFileMessage","createVideoMessage","markMessageAsRead","firstLoad","lastMessageTimeStamp","lastMessage","limit","lastTimestamp","filter","$nextTick","scroll","getElementById","scrollTop","scrollHeight","t","now","time","str","getMonth","getDate","getHours","getMinutes","functionName","parameters","targetOrigin","referrer","parent","postMessage","component","module","o","a","n","l","m","c","d","configurable","enumerable","get","__esModule","hasOwnProperty","p","s","replace","props","search","String","required","emojiTable","display","x","y","emojis","test","keys","$emit","toggle","clientX","clientY","hide","bind","modifiers","bubble","contains","__vueClickOutside__","unbind","removeEventListener","mounted","destroyed","thumbs_up","sob","confused","neutral_face","blush","heart_eyes","People","smile","smiley","grinning","wink","kissing_heart","kissing_closed_eyes","kissing","kissing_smiling_eyes","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","stuck_out_tongue","flushed","grin","pensive","relieved","unamused","disappointed","persevere","cry","joy","sleepy","disappointed_relieved","cold_sweat","sweat_smile","sweat","weary","tired_face","fearful","scream","angry","rage","triumph","confounded","laughing","yum","mask","sunglasses","sleeping","dizzy_face","astonished","worried","frowning","anguished","imp","open_mouth","grimacing","hushed","smirk","expressionless","man_with_gua_pi_mao","man_with_turban","cop","construction_worker","guardsman","baby","boy","girl","man","woman","older_man","older_woman","person_with_blond_hair","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","skull","alien","hankey","fire","sparkles","star2","dizzy","boom","anger","sweat_drops","droplet","zzz","dash","ear","eyes","nose","tongue","lips","ok_hand","facepunch","fist","wave","hand","open_hands","point_up_2","point_down","point_right","point_left","raised_hands","pray","clap","muscle","walking","runner","dancer","couple","family","couplekiss","couple_with_heart","dancers","ok_woman","no_good","information_desk_person","raising_hand","massage","haircut","nail_care","bride_with_veil","person_with_pouting_face","person_frowning","bow","tophat","crown","womans_hat","athletic_shoe","mans_shoe","sandal","high_heel","boot","shirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","briefcase","handbag","pouch","purse","eyeglasses","ribbon","closed_umbrella","lipstick","yellow_heart","blue_heart","purple_heart","green_heart","broken_heart","heartpulse","heartbeat","two_hearts","sparkling_heart","revolving_hearts","cupid","love_letter","kiss","ring","gem","bust_in_silhouette","speech_balloon","footprints","Nature","dog","wolf","cat","mouse","hamster","rabbit","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","sheep","elephant","panda_face","penguin","bird","baby_chick","hatched_chick","hatching_chick","chicken","snake","turtle","bug","bee","ant","beetle","snail","octopus","shell","tropical_fish","fish","dolphin","whale","racehorse","dragon_face","blowfish","camel","poodle","feet","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","ear_of_rice","mushroom","cactus","palm_tree","chestnut","seedling","blossom","new_moon","first_quarter_moon","moon","full_moon","first_quarter_moon_with_face","crescent_moon","earth_asia","volcano","milky_way","stars","partly_sunny","snowman","cyclone","foggy","rainbow","ocean","Objects","bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","tanabata_tree","tada","confetti_ball","balloon","crossed_flags","crystal_ball","movie_camera","camera","video_camera","vhs","cd","dvd","minidisc","floppy_disk","computer","iphone","telephone_receiver","pager","fax","satellite","tv","radio","loud_sound","bell","loudspeaker","mega","hourglass_flowing_sand","hourglass","alarm_clock","watch","unlock","lock","lock_with_ink_pen","closed_lock_with_key","mag_right","bulb","flashlight","electric_plug","battery","mag","bath","toilet","wrench","nut_and_bolt","hammer","door","smoking","bomb","gun","hocho","pill","syringe","moneybag","yen","dollar","credit_card","money_with_wings","calling","inbox_tray","outbox_tray","envelope_with_arrow","incoming_envelope","mailbox","mailbox_closed","postbox","package","memo","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","clipboard","date","calendar","card_index","file_folder","open_file_folder","pushpin","paperclip","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","book","bookmark","name_badge","newspaper","art","clapper","microphone","headphones","musical_score","musical_note","notes","musical_keyboard","violin","trumpet","saxophone","guitar","space_invader","video_game","black_joker","flower_playing_cards","mahjong","game_die","dart","football","basketball","soccer","baseball","tennis","bowling","golf","checkered_flag","trophy","ski","snowboarder","swimmer","surfer","fishing_pole_and_fish","tea","sake","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","cherries","grapes","watermelon","strawberry","peach","melon","banana","pineapple","sweet_potato","eggplant","tomato","corn","Places","house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","night_with_stars","statue_of_liberty","bridge_at_night","carousel_horse","ferris_wheel","fountain","roller_coaster","ship","boat","speedboat","rocket","seat","station","bullettrain_side","bullettrain_front","metro","railway_car","bus","blue_car","car","taxi","truck","rotating_light","police_car","fire_engine","ambulance","bike","barber","busstop","ticket","traffic_light","construction","beginner","fuelpump","izakaya_lantern","slot_machine","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","Symbols","keycap_ten","1234","symbols","capital_abcd","abcd","abc","arrow_up_small","arrow_down_small","rewind","fast_forward","arrow_double_up","arrow_double_down","ok","new","up","cool","free","ng","signal_strength","cinema","koko","u6307","u7a7a","u6e80","u5408","u7981","ideograph_advantage","u5272","u55b6","u6709","u7121","restroom","mens","womens","baby_symbol","wc","no_smoking","u7533","accept","cl","sos","no_entry_sign","underage","no_entry","negative_squared_cross_mark","white_check_mark","heart_decoration","vs","vibration_mode","mobile_phone_off","ab","diamond_shape_with_a_dot_inside","ophiuchus","six_pointed_star","atm","chart","heavy_dollar_sign","currency_exchange","exclamation","question","grey_exclamation","grey_question","top","end","back","soon","arrows_clockwise","clock12","clock1","clock2","clock3","clock4","clock5","clock6","clock7","clock8","clock9","clock10","clock11","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","radio_button","link","curly_loop","trident","small_red_triangle","black_square_button","white_square_button","red_circle","large_blue_circle","small_red_triangle_down","white_large_square","black_large_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","EmojiPickerPlugin","install","r","_","options","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","functional","u","beforeCreate","esModule","$createElement","_t","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","fulfilled","step","next","rejected","done","then","__generator","f","g","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","UserInfoCollector","onCollected","userCookieInfo","getUserFromCookie","tryLinkContactAccount","res","catch","_a","followed","followedUser","officialOpenId","nickname","userId","getAnonymousRandomGuid","showQRCode","connectPubsub","onFollowed","saveFollowedUser","disconnectPubsub","hideQRCode","anonymousRandomGuid","pubsub","subscribe","channel","onMessage","saveFollowedUserToCookie","Days","exp","setTime","stringify","toUTCString","disconnect","guid","random","toString"],"mappings":"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","file":"js/chunk-3b68a38e.a2ec5e98.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6688311a&prod&scoped=true&lang=css&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar axios_1 = require(\"axios\");\nvar Http = (function () {\n    function Http(config) {\n        var _this = this;\n        this.whiteList = [\"/api/v2/cs-customer/public\"];\n        this.config = config;\n        this.cookie_token_key = \"goeasy.token.\".concat(this.config.sso_cookie_suffix);\n        this.cookie_refresh_token_key = \"goeasy.refreshToken.\".concat(this.config.sso_cookie_suffix);\n        this.cookie_expiresAtMillis_key = \"goeasy.token.expiresAtMillis.\".concat(this.config.sso_cookie_suffix);\n        this.call = axios_1.default.create({\n            baseURL: '',\n            timeout: 60000\n        });\n        this.call.interceptors.request.use(function (config) {\n            var whiteList = _this.isWhiteList(config.url);\n            if (!whiteList) {\n                _this.checkAndRefreshToken();\n                var token = _this.getAccessToken();\n                if (token) {\n                    config.headers['Authorization'] = \"Bearer \" + token;\n                }\n            }\n            return config;\n        }, function (error) {\n            return Promise.reject(error);\n        });\n        this.call.interceptors.response.use(function (response) {\n            return response.data;\n        }, function (error) {\n            return Promise.reject(error);\n        });\n    }\n    Http.prototype.checkAndRefreshToken = function () {\n        var _this = this;\n        var xhr;\n        if (window.XMLHttpRequest) {\n            xhr = new XMLHttpRequest();\n        }\n        else {\n            xhr = new ActiveXObject(\"Microsoft.XMLHttp\");\n        }\n        var expiresAt = this.getExpiresAtMillis();\n        var currentTime = new Date().getTime();\n        if (xhr && expiresAt - currentTime < 3600 * 1000) {\n            var refreshToken = this.getRefreshToken();\n            xhr.open(\"post\", \"\".concat(this.config.sso_host, \"/refreshtoken\"), true);\n            xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\n            xhr.send(\"refreshToken=\" + refreshToken);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                        var result = JSON.parse(xhr.responseText);\n                        var newToken = result.token;\n                        var newRefreshToken = result.refreshToken;\n                        var expiresAtMillis = result.expiresAtMillis;\n                        _this.storeTokens(newToken, newRefreshToken, expiresAtMillis);\n                    }\n                }\n            };\n        }\n    };\n    Http.prototype.isWhiteList = function (requestUrl) {\n        for (var i = 0; i < this.whiteList.length; i++) {\n            var url = this.whiteList[i];\n            if (requestUrl.includes(url)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Http.prototype.getExpiresAtMillis = function () {\n        return this.getCookie(this.cookie_expiresAtMillis_key);\n    };\n    Http.prototype.getAccessToken = function () {\n        return this.getCookie(this.cookie_token_key);\n    };\n    Http.prototype.getRefreshToken = function () {\n        return this.getCookie(this.cookie_refresh_token_key);\n    };\n    Http.prototype.storeTokens = function (token, refreshToken, expiresAtMillis) {\n        this.setCookie(this.cookie_token_key, token);\n        this.setCookie(this.cookie_refresh_token_key, refreshToken);\n        this.setCookie(this.cookie_expiresAtMillis_key, expiresAtMillis + \"\");\n    };\n    Http.prototype.setCookie = function (name, value) {\n        console.log(\"will set \" + name + \"with value: \" + value);\n        document.cookie = name + \"=\" + escape(value) + \";domain=goeasy.io\";\n    };\n    Http.prototype.getCookie = function (name) {\n        var arr, reg = new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\");\n        if (arr = document.cookie.match(reg)) {\n            return unescape(arr[2]);\n        }\n        return null;\n    };\n    return Http;\n}());\nexports.default = Http;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar http_1 = require(\"./http\");\nvar Api = (function () {\n    function Api(config) {\n        this.url = \"\".concat(config.rest_host, \"/api/v2/cs-customer\");\n        this.http = new http_1.default(config);\n    }\n    Api.prototype.getQRCode = function (uuid) {\n        var url = \"\".concat(this.url, \"/public/qrcode?uuid=\").concat(uuid);\n        return this.http.call({\n            method: 'get',\n            url: url\n        });\n    };\n    Api.prototype.getUserInfo = function (openId) {\n        var url = \"\".concat(this.url, \"/public/contact/\").concat(openId);\n        return this.http.call({\n            url: url,\n            method: \"get\"\n        });\n    };\n    Api.prototype.getWelcome = function () {\n        var url = \"\".concat(this.url, \"/public/welcome\");\n        return this.http.call({\n            url: url,\n            method: \"get\"\n        });\n    };\n    Api.prototype.getOTP = function () {\n        var url = \"\".concat(this.url, \"/public/otp\");\n        return this.http.call({\n            url: url,\n            method: \"post\"\n        });\n    };\n    Api.prototype.saveAccountUser = function (params) {\n        var url = \"\".concat(this.url, \"/console/contact/\").concat(params.openId, \"/account\");\n        return this.http.call({\n            url: url,\n            method: \"POST\",\n            data: {\n                accountGuid: params.accountGuid\n            }\n        });\n    };\n    return Api;\n}());\nexports.default = Api;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"consult\"}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header\"},[_c('span',[_vm._v(\"GoEasy\")]),_c('img',{attrs:{\"src\":require(\"./images/pull.svg\")},on:{\"click\":_vm.closeConsultBox}})]),_c('div',{staticClass:\"body\"},[(_vm.qrCode.visible)?_c('div',{staticClass:\"qr-code\"},[_c('div',{staticClass:\"mask\"}),_c('div',{staticClass:\"qr-code-content\"},[_c('span',[_vm._v(\"~\")]),_c('div',{staticClass:\"qr-code-avatar\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qrCode.value),expression:\"qrCode.value\"}],staticClass:\"qr-code-icon\",attrs:{\"src\":_vm.qrCode.value}})]),_c('span',[_vm._v(\"!\")])])]):_vm._e(),_c('div',{staticClass:\"left\"},[_c('div',{ref:\"scrollView\",staticClass:\"chat\",attrs:{\"id\":\"scroll\"}},[_c('div',[_c('div',{staticClass:\"history\"},[(_vm.history.allLoaded)?_c('div',{staticClass:\"history-loaded\"},[_c('span',[_vm._v(\"\")])]):_c('div',{on:{\"click\":function($event){return _vm.loadHistory(false)}}},[(_vm.history.loading)?_c('div',{staticClass:\"history-loaded\"},[_c('img',{attrs:{\"src\":require(\"./images/loading.gif\")}})]):_c('div',{staticClass:\"history-loaded\"},[_c('img',{attrs:{\"src\":require(\"./images/history.svg\")}}),_c('span',[_vm._v(\"\")])])])]),_vm._l((_vm.history.messages),function(message,index){return _c('div',{key:index},[(_vm.showTime(index))?_c('div',{staticClass:\"message-time\"},[_vm._v(\" \"+_vm._s(_vm.formatDate(message.timestamp))+\" \")]):_vm._e(),_c('div',{class:[message.senderId === _vm.currentUser.id?'consult-record-self': 'consult-record']},[(message.senderId !== _vm.currentUser.id)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":message.senderData.avatar,\"alt\":\"\"}}):_vm._e(),_c('div',{staticClass:\"info\"},[(message.senderId !== _vm.currentUser.id)?_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(message.senderData.name))]):_vm._e(),_c('div',{staticClass:\"message\"},[(message.type === 'text')?_c('div',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(message.payload.text)+\" \")]):_vm._e(),(message.type === 'image')?_c('div',{staticClass:\"image\",on:{\"click\":function($event){return _vm.showImage(message.payload.url)}}},[_c('img',{style:({height:_vm.getImageHeight(message.payload.width,message.payload.height)+'px'}),attrs:{\"src\":message.payload.url}})]):_vm._e(),(message.type === 'file')?_c('a',{staticClass:\"downLoad\",attrs:{\"download\":\"\",\"title\":\"\",\"href\":message.payload.url}},[_c('img',{staticClass:\"file\",attrs:{\"src\":require(\"./images/file.svg\")}}),_c('div',{staticClass:\"file-info\"},[_c('div',{staticClass:\"file-info-name\"},[_vm._v(_vm._s(_vm._f(\"fixContent\")(message.payload.name))+\" \")]),_c('div',{staticClass:\"file-info-size\"},[_vm._v(_vm._s(_vm._f(\"fixFileSize\")(message.payload.size))+\" \")])])]):_vm._e(),(message.type === 'video')?_c('div',{staticClass:\"video\",on:{\"click\":function($event){return _vm.showVideo(message.payload.video.url)}}},[_c('img',{staticClass:\"thumbnail\",style:({height:_vm.getImageHeight(message.payload.thumbnail.width,message.payload.thumbnail.height)+'px'}),attrs:{\"src\":message.payload.thumbnail.url}}),_c('div',{staticClass:\"play-icon\"})]):_vm._e(),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(message.status === 'fail'),expression:\"message.status === 'fail'\"}],staticClass:\"status\",attrs:{\"src\":require(\"./images/failed.png\")}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(message.status === 'sending'),expression:\"message.status === 'sending'\"}],staticClass:\"status\",attrs:{\"src\":require(\"./images/pending.gif\")}})])])])])}),(_vm.welcome.visible)?_c('div',[_c('div',{staticClass:\"consult-record\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":require(\"./images/logo.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"message\"},[_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.welcome.message)}})])])])]):_vm._e()],2)]),_c('div',{staticClass:\"operation-list\"},[_c('div',{staticClass:\"operation-item\"},[_c('div',{staticClass:\"operation-item-box\"},[_c('emoji-picker',{on:{\"emoji\":_vm.chooseEmoji},scopedSlots:_vm._u([{key:\"emoji-invoker\",fn:function(events){return _c('div',{staticClass:\"emoji-invoker\",on:{\"click\":function($event){$event.stopPropagation();return events.events.click.apply(null, arguments)}}},[_c('img',{attrs:{\"src\":require(\"./images/emoji.svg\")}})])}},{key:\"emoji-picker\",fn:function(data){return _c('div',{},[_c('div',{staticClass:\"emoji-picker\"},[_c('div',_vm._l((data.emojis),function(emojiGroup,category){return _c('div',{key:category},[(category !=='Frequently used')?_c('div',{staticClass:\"emojis\"},_vm._l((emojiGroup),function(emoji,emojiName){return _c('span',{key:emojiName,attrs:{\"title\":emojiName},on:{\"click\":function($event){return data.insert(emoji)}}},[_vm._v(_vm._s(emoji))])}),0):_vm._e()])}),0)])])}}])}),_c('div',{staticClass:\"upload-img\"},[_c('input',{ref:\"files\",staticClass:\"image-input\",attrs:{\"accept\":\"image/*\",\"type\":\"file\"},on:{\"change\":_vm.sendImageMessage}})]),_c('div',{staticClass:\"upload-video\"},[_c('input',{ref:\"files\",staticClass:\"image-input\",attrs:{\"accept\":\"video/mpeg,video/mp4,video/3gpp\",\"type\":\"file\"},on:{\"change\":_vm.sendVideoMessage}})]),_c('div',{staticClass:\"upload-file\"},[_c('input',{ref:\"file\",staticClass:\"image-input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.sendFileMessage}})])],1)]),_c('div',{staticClass:\"input-box\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"consult-input\",attrs:{\"type\":\"text\",\"placeholder\":\"EnterShift+Enter\"},domProps:{\"value\":(_vm.text)},on:{\"paste\":_vm.pasteImageMessage,\"keydown\":_vm.sendMessageByEnter,\"input\":function($event){if($event.target.composing)return;_vm.text=$event.target.value}}})]),_c('div',{staticClass:\"consult-send-btn\",on:{\"click\":function($event){return _vm.sendTextMessage()}}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"right\"},[_vm._m(0),_c('div',{staticClass:\"notice-title\"},[_vm._v(\"09:00~18:00\")]),_c('div',{staticClass:\"notice-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"version\"},[_vm._v(_vm._s(_vm.version))])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"icon-box\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"./images/logo.png\")}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-cloak id=\"consult\">\n    <div class=\"content\">\n      <div class=\"header\">\n        <span>GoEasy</span>\n        <img src=\"./images/pull.svg\" @click=\"closeConsultBox\"/>\n      </div>\n      <div class=\"body\">\n        <div v-if=\"qrCode.visible\" class=\"qr-code\">\n          <div class=\"mask\"></div>\n          <div class=\"qr-code-content\">\n            <span>~</span>\n            <div class=\"qr-code-avatar\">\n              <img v-show=\"qrCode.value\" class=\"qr-code-icon\" :src=\"qrCode.value\"/>\n            </div>\n            <span>!</span>\n          </div>\n        </div>\n        <div class=\"left\">\n          <div ref=\"scrollView\" id=\"scroll\" class=\"chat\">\n            <div>\n              <div class=\"history\">\n                <div v-if=\"history.allLoaded\" class=\"history-loaded\">\n                  <span></span>\n                </div>\n                <div v-else @click=\"loadHistory(false)\">\n                  <div v-if=\"history.loading\" class=\"history-loaded\">\n                    <img src=\"./images/loading.gif\"/>\n                  </div>\n                  <div v-else class=\"history-loaded\">\n                    <img src=\"./images/history.svg\"/>\n                    <span></span>\n                  </div>\n                </div>\n              </div>\n              <div v-for=\"(message,index) in history.messages\" :key=\"index\">\n                <div class=\"message-time\"\n                     v-if=\"showTime(index)\">\n                  {{formatDate(message.timestamp)}}\n                </div>\n                <div :class=\"[message.senderId === currentUser.id?'consult-record-self': 'consult-record']\">\n                  <img v-if=\"message.senderId !== currentUser.id\" class=\"avatar\" :src=\"message.senderData.avatar\"\n                       alt=\"\"/>\n                  <div class=\"info\">\n                    <span class=\"name\" v-if=\"message.senderId !== currentUser.id\">{{message.senderData.name}}</span>\n                    <div class=\"message\">\n                      <div v-if=\"message.type === 'text'\" class=\"text\">\n                        {{message.payload.text}}\n                      </div>\n                      <div v-if=\"message.type === 'image'\" class=\"image\"\n                           @click=\"showImage(message.payload.url)\">\n                        <img :src=\"message.payload.url\"\n                             :style=\"{height:getImageHeight(message.payload.width,message.payload.height)+'px'}\"/>\n                      </div>\n                      <a class=\"downLoad\" download title=\"\"\n                         v-if=\"message.type === 'file'\" :href=\"message.payload.url\">\n                        <img class=\"file\" src=\"./images/file.svg\"/>\n                        <div class=\"file-info\">\n                          <div class=\"file-info-name\">{{message.payload.name |\n                            fixContent}}\n                          </div>\n                          <div class=\"file-info-size\">{{message.payload.size |\n                            fixFileSize}}\n                          </div>\n                        </div>\n                      </a>\n                      <div class=\"video\" v-if=\"message.type === 'video'\"\n                           @click=\"showVideo(message.payload.video.url)\">\n                        <img class=\"thumbnail\" :style=\"{height:getImageHeight(message.payload.thumbnail.width,message.payload.thumbnail.height)+'px'}\" :src=\"message.payload.thumbnail.url\"/>\n                        <div class=\"play-icon\"></div>\n                      </div>\n                      <img v-show=\"message.status === 'fail'\" class=\"status\"\n                           src=\"./images/failed.png\"/>\n                      <img v-show=\"message.status === 'sending'\" class=\"status\"\n                           src=\"./images/pending.gif\"/>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div v-if=\"welcome.visible\">\n                <div class=\"consult-record\">\n                  <img class=\"avatar\" src=\"./images/logo.png\" alt=\"\"/>\n                  <div class=\"info\">\n                    <div class=\"message\">\n                      <div class=\"text\" v-html=\"welcome.message\"></div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"operation-list\">\n            <div class=\"operation-item\">\n              <div class=\"operation-item-box\">\n                <emoji-picker @emoji=\"chooseEmoji\">\n                  <div class=\"emoji-invoker\" slot=\"emoji-invoker\" slot-scope=\"events\"\n                       @click.stop=\"events.events.click\">\n                    <img src=\"./images/emoji.svg\">\n                  </div>\n                  <div slot=\"emoji-picker\" slot-scope=\"data\">\n                    <div class=\"emoji-picker\">\n                      <div>\n                        <div v-for=\"(emojiGroup, category) in data.emojis\" :key=\"category\">\n                          <div v-if=\"category !=='Frequently used'\" class=\"emojis\">\n                                <span v-for=\"(emoji, emojiName) in emojiGroup\" :key=\"emojiName\"\n                                      @click=\"data.insert(emoji)\" :title=\"emojiName\">{{ emoji }}</span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </emoji-picker>\n                <div class=\"upload-img\">\n                  <input accept=\"image/*\" ref=\"files\" @change=\"sendImageMessage\" type=\"file\"\n                         class=\"image-input\"/>\n                </div>\n                <div class=\"upload-video\">\n                  <input accept=\"video/mpeg,video/mp4,video/3gpp\" ref=\"files\"\n                         @change=\"sendVideoMessage\" type=\"file\" class=\"image-input\"/>\n                </div>\n                <div class=\"upload-file\">\n                  <input @change=\"sendFileMessage\" ref=\"file\" type=\"file\" class=\"image-input\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"input-box\">\n              <textarea\n                @paste=\"pasteImageMessage\" @keydown=\"sendMessageByEnter\" v-model=\"text\" class=\"consult-input\" type=\"text\"\n                placeholder=\"EnterShift+Enter\"></textarea>\n            </div>\n            <div @click=\"sendTextMessage()\" class=\"consult-send-btn\"></div>\n          </div>\n        </div>\n        <div class=\"right\">\n          <div class=\"icon-box\">\n            <img class=\"icon\" src=\"./images/logo.png\"/>\n          </div>\n          <div class=\"notice-title\">09:00~18:00</div>\n          <div class=\"notice-title\"></div>\n          <div class=\"version\">{{ version }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import EmojiPicker from 'vue-emoji-picker'\n  import GoEasy from \"../lib/goeasy-2.5.3.min\";\n  import Api from \"./api/api.ts\";\n  import UserInfoCollector from \"./userinfo-collector.ts\";\n  import { version } from '../../package.json'\n\n  const IMAGE_MAX_WIDTH = 200;\n  const IMAGE_MAX_HEIGHT = 150;\n  export default {\n    name: 'consult',\n    components: {\n      EmojiPicker\n    },\n    data() {\n      return {\n        version: version,\n        qrCode: {\n          value: '',\n          visible: false,\n        },\n        //todo:\n        welcome: {\n          message: '',\n          visible: true\n        },\n        currentUser: {\n          id: \"\",\n          data: {\n            name: \"\",\n            avatar: \"\"\n          }\n        },\n        team: {\n          id: 'goeasy-customer-support',\n          data: {\n            name: \"GoEasy Support Team\",\n            avatar: \"\"\n          }\n        },\n        history: {\n          messages: [],\n          allLoaded: false,\n          loading: false\n        },\n        text: \"\",\n        to: {},\n        goEasy: null,\n        config: null,\n        api: null\n      }\n    },\n    async created() {\n      this.config = JSON.parse(decodeURIComponent(this.$route.query.cs_customer_config));\n      this.api = new Api(this.config);\n      this.goEasy = GoEasy.getInstance({\n        host: this.config.goEasy_host,\n        appkey: this.config.goEasy_appKey,\n        modules: [\"im\", \"pubsub\"],\n        allowNotification: true\n      });\n\n      let {data} = await this.api.getWelcome();\n      this.welcome.message = data;\n      await this.initUserInfoAndConnectGoEasy();\n      this.to = {\n        type: GoEasy.IM_SCENE.CS,\n        id: this.team.id,\n        data: this.team.data,\n      };\n    },\n    computed: {\n      showTime() {\n        return (index) => (index === 0 || (this.history.messages[index].timestamp - this.history.messages[index - 1].timestamp > 5 * 60 * 1000));\n      }\n    },\n    filters: {\n      fixContent: function (content) {\n        if (content) {\n          return content.length >= 20 ? content.substring(0, 10) + '...' + content.substr(-10) : content;\n        }\n      },\n      fixFileSize: function (size) {\n        if (size === 0) {\n          return '1 B';\n        } else {\n          let k = 1000, // or 1024\n            sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            i = Math.floor(Math.log(size) / Math.log(k));\n          return (size / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\n        }\n      }\n    },\n    methods: {\n      async initUserInfoAndConnectGoEasy() {\n        let userInfoCollector = new UserInfoCollector(this.goEasy, this.initUserInfoAndConnectGoEasy, this.qrCode, this.config.accountGuid, this.api);\n        let collected = await userInfoCollector.isCollected();\n        if (collected) {\n          this.currentUser = userInfoCollector.userInfo();\n          this.connectGoEasy();\n        } else {\n          userInfoCollector.collect();\n        }\n      },\n      async connectGoEasy() {\n        await this.connect();\n        this.initListeners();\n        this.loadHistory(true);\n        this.markAsRead();\n      },\n      async connect() {\n        let otpData = await this.api.getOTP();\n        this.goEasy.connect({\n          id: this.currentUser.id,\n          data: this.currentUser.data,\n          otp: otpData.data,\n          wxmpId: {\n            appid: 'wxa812036f6cd4f0c5',\n            openid: this.currentUser.id,\n          },\n          onSuccess: function () {\n            console.log(\"GoEasy connect successfully.\");\n          },\n          onFailed: function (error) {\n            console.log(\"Failed to connect GoEasy, code:\" + error.code + \",error:\" + error.content);\n          },\n          onProgress: function (attempts) {\n            console.log(\"GoEasy is connecting\", attempts);\n          }\n        });\n      },\n      initListeners() {\n        document.addEventListener('visibilitychange', () => {\n          if (!document.hidden) {\n            this.callParentFunction('clearNotificationTitle');\n          }\n        });\n        this.goEasy.im.on(GoEasy.IM_EVENT.CS_MESSAGE_RECEIVED, this.onMessageReceived);\n      },\n      onMessageReceived(message) {\n        if (message.type !=='CS_ACCEPT'&& message.type!=='CS_END'&& message.type!=='CS_TRANSFER') {\n          this.welcome.visible = false;\n          this.history.messages.push(message);\n          this.scrollToBottom();\n          if(message.senderId !== this.currentUser.id) {\n            this.createNotification(message);\n            this.callParentFunction('showPopup');\n          }\n        }\n      },\n      createNotification (message) {\n        if (document.visibilityState === 'visible') {\n          return\n        }\n        const notification = {\n          title: 'GoEasy',\n          body: '',\n        }\n        this.callParentFunction('createNotification',notification);\n      },\n      sendMessageByEnter(event) {\n        if (event.shiftKey && event.keyCode === 13) {\n          event.preventDefault();\n          this.text = this.text + \"\\n\";\n        } else if (event.keyCode === 13) {\n          event.preventDefault();\n          this.sendTextMessage();\n        }\n      },\n      pasteImageMessage(e) {\n        const file = e.clipboardData.files[0]\n        if (!file) {\n          return\n        }\n        if (file.type === 'image/png') {\n          this.goEasy.im.createImageMessage({\n            file: file,\n            to: this.to,\n            onSuccess: (message) => {\n              this.sendMessage(message);\n            },\n            onFailed: (err) => {\n              console.log(\"create file message err:\", err);\n            }\n          });\n        }\n      },\n      sendMessage(message) {\n        this.welcome.visible = false;\n        this.history.messages.push(message);\n        this.scrollToBottom();\n        this.goEasy.im.sendMessage({\n          message: message,\n          onSuccess: () => {\n            console.log(\"\");\n          },\n          onFailed: (err) => {\n            console.log(\"send message err:\", err);\n          }\n        })\n      },\n      sendTextMessage() {\n        if (this.text.trim().length > 0) {\n          this.goEasy.im.createTextMessage({\n            text: this.text,\n            to: this.to,\n            onSuccess: (message) => {\n              this.sendMessage(message);\n            },\n            onFailed: (err) => {\n              console.log(\"create text message err:\", err);\n            }\n          });\n          this.text = \"\";\n        }\n      },\n      sendFileMessage(e) {\n        const file = e.target.files[0];\n        const fileMessage = this.goEasy.im.createFileMessage({\n          file: file,\n          to: this.to,\n        });\n        this.sendMessage(fileMessage);\n      },\n      sendImageMessage(e) {\n        let file = e.target.files[0];\n        this.goEasy.im.createImageMessage({\n          file: file,\n          to: this.to,\n          onSuccess: (message) => {\n            this.sendMessage(message);\n          },\n          onFailed: (err) => {\n            console.log(\"create file message err:\", err);\n          }\n        });\n      },\n      sendVideoMessage(e) {\n        let file = e.target.files[0];\n        this.goEasy.im.createVideoMessage({\n          file: file,\n          to: this.to,\n          onSuccess: (message) => {\n            this.sendMessage(message);\n          },\n          onFailed: (err) => {\n            console.log(\"create video message err:\", err);\n          }\n        });\n      },\n      chooseEmoji(emoji) {\n        this.text += emoji;\n      },\n      /**\n       * \n       *\n       *   ()\n       *    =\n       *  (>)\n       *    = \n       *   (<)(=)\n       *    =MAX height\n       *\n       * @param width,height\n       * @returns number\n       */\n      getImageHeight(width, height) {\n        if (width < IMAGE_MAX_WIDTH && height < IMAGE_MAX_HEIGHT) {\n          return height;\n        } else if (width > height) {\n          return IMAGE_MAX_WIDTH / width * height;\n        } else if (width === height || width < height) {\n          return IMAGE_MAX_HEIGHT;\n        }\n      },\n      showImage (url) {\n        this.callParentFunction('showImage', {url:url});\n      },\n      showVideo (url) {\n        this.callParentFunction('showVideo',{url:url});\n      },\n      markAsRead() {\n        this.goEasy.im.markMessageAsRead({\n          type: GoEasy.IM_SCENE.CS,\n          id: this.team.id,\n          onSuccess: function () {\n            console.log('');\n          },\n          onFailed: function (error) {\n            console.log(\"\", error);\n          }\n        });\n      },\n      loadHistory(firstLoad) {\n        this.history.loading = true;\n        let lastMessageTimeStamp;\n        let lastMessage = this.history.messages[0];\n        if (lastMessage) {\n          lastMessageTimeStamp = lastMessage.timestamp;\n        }\n        let limit = 10;\n        this.goEasy.im.history({\n          type: GoEasy.IM_SCENE.CS,\n          id: this.team.id,\n          lastTimestamp: lastMessageTimeStamp,\n          limit: limit,\n          onSuccess: (result) => {\n            this.history.loading = false;\n            let messages = result.content.filter((message) => {\n              return message.type !=='CS_ACCEPT'&& message.type!=='CS_END'&& message.type!=='CS_TRANSFER';\n            });\n            if (messages.length === 0) {\n              this.history.allLoaded = true;\n            } else {\n              if (lastMessageTimeStamp) {\n                this.history.messages = messages.concat(this.history.messages);\n              } else {\n                this.history.messages = messages;\n              }\n              if (firstLoad) {\n                this.markAsRead();\n                this.scrollToBottom();\n              }\n            }\n          },\n          onFailed: (error) => {\n            this.history.loading = false;\n            console.log('load history err:', error);\n          }\n        });\n      },\n      scrollToBottom() {\n        this.$nextTick(() => {\n          let scroll = document.getElementById(\"scroll\");\n          scroll.scrollTop = scroll.scrollHeight;\n        });\n      },\n      formatDate(t) {\n        t = t || Date.now();\n        let time = new Date(t);\n        let str = time.getMonth() < 9 ? ('0' + (time.getMonth() + 1)) : (time.getMonth() + 1);\n        str += '-';\n        str += time.getDate() < 10 ? ('0' + time.getDate()) : time.getDate();\n        str += ' ';\n        str += time.getHours();\n        str += ':';\n        str += time.getMinutes() < 10 ? ('0' + time.getMinutes()) : time.getMinutes();\n        return str;\n      },\n      closeConsultBox () {\n        this.callParentFunction('switchPopup');\n      },\n      callParentFunction (functionName, parameters) {\n        const targetOrigin = document.referrer;\n        window.parent.postMessage({\n          'function': functionName,\n          'parameters': parameters,\n        }, targetOrigin);\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  /**/\n  [v-cloak] {\n    display: none;\n  }\n\n  .content {\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    z-index: 100;\n\n    display: flex;\n    flex-direction: column;\n    width: 620px;\n    min-width: 620px;\n    height: 500px;\n\n    border-radius: 0 0 5px 5px;\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\n  }\n\n  .header {\n    height: 50px;\n    padding: 0 20px 0 24px;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    background: #D02129;\n  }\n\n  .body {\n    height: 450px;\n    display: flex;\n  }\n\n  .header span {\n    font-size: 17px;\n    font-weight: 700;\n    color: #fff;\n  }\n\n  .header img {\n    cursor: pointer;\n  }\n\n  .left {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    border-right: 1px solid #E0E0E0;\n  }\n\n  .right {\n    width: 153px;\n    min-width: 153px;\n    padding: 10px;\n    box-sizing: border-box;\n    background: #ffffff;\n    position: relative;\n  }\n\n  .version {\n    position: absolute;\n    left: 65px;\n    bottom: 10px;\n    font-size: 14px;\n    color: #FFFFFF;\n  }\n\n  .qr-code {\n    position: absolute;\n    left: 0;\n    right: 0;\n    height: 100%;\n    font-size: 14px;\n  }\n\n  .mask {\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\n    width: 100%;\n    z-index: 15;\n    opacity: 0.6;\n    background: rgba(51, 51, 51, 0.6);\n  }\n\n  .qr-code-content {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translateX(-50%) translateY(-60%);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: #FFFFFF;\n    z-index: 1000;\n  }\n\n  .qr-code-avatar {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 122px;\n    height: 122px;\n    text-align: center;\n  }\n\n  .qr-code-icon {\n    width: 122px;\n    height: 122px;\n    text-align: center;\n  }\n\n  .icon-box {\n    text-align: center;\n    margin-bottom: 10px;\n  }\n\n  .icon {\n    width: 132px;\n    height: 132px;\n    min-width: 132px;\n    min-height: 132px;\n    border: 1px solid #E5E5E5;\n    box-sizing: border-box;\n    border-radius: 5px;\n  }\n\n  .notice-title {\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 19px;\n    color: #333333;\n    letter-spacing: -0.41px;\n  }\n\n  /* ie10,firefox */\n  .chat {\n    flex: 1;\n    /* firefox */\n    scrollbar-width: none;\n    /* IE 10+ */\n    -ms-overflow-style: none;\n    overflow-x: hidden;\n    overflow-y: auto;\n    background: #f5f5f5;\n  }\n\n  /* chromeedgeSafari */\n  .chat::-webkit-scrollbar {\n    display: none\n  }\n\n  /* webkit */\n  textarea::-webkit-input-placeholder {\n    font-size: 15px;\n    line-height: 22px;\n    color: #999999;\n  }\n\n  /* Firefox4-18 */\n  textarea:-moz-placeholder {\n    font-size: 15px;\n    line-height: 22px;\n    color: #999999;\n  }\n\n  /* Firefox19+ */\n  textarea::-moz-placeholder {\n    font-size: 15px;\n    line-height: 22px;\n    color: #999999;\n  }\n\n  /* IE */\n  textarea:-ms-input-placeholder {\n    font-size: 15px;\n    line-height: 22px;\n    color: #999999;\n  }\n\n  .history {\n    font-size: 13px;\n    text-align: center;\n    color: #D02129;\n  }\n\n  .history-loaded {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 8px;\n  }\n\n  .history-loaded span {\n    margin-left: 5px;\n    cursor: pointer;\n  }\n\n  .message-time {\n    font-size: 13px;\n    text-align: center;\n    line-height: 19px;\n    letter-spacing: -0.41px;\n    color: #333333;\n  }\n\n  .consult-record {\n    display: flex;\n    padding: 10px 20px;\n  }\n\n  .consult-record .avatar {\n    width: 50px;\n    height: 50px;\n    min-width: 50px;\n    min-height: 50px;\n    margin-top: 10px;\n\n    border-radius: 5px;\n    box-sizing: border-box;\n    background: #FFFFFF;\n  }\n\n  /*  */\n  .consult-record .image {\n    border-radius: 10px;\n    cursor: zoom-in;\n  }\n\n  /*  */\n  .consult-record .file {\n    width: 25px;\n    height: 25px;\n    border-radius: 6px;\n  }\n\n  .consult-record .downLoad {\n    display: flex;\n    align-items: center;\n\n    position: relative;\n    width: 180px;\n    min-width: 180px;\n    height: 80px;\n    min-height: 80px;\n    padding: 10px;\n    border-radius: 8px;\n    box-sizing: border-box;\n    text-decoration: none;\n    word-break: break-word;\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #333333;\n    background: #ffffff;\n  }\n\n  .consult-record .downLoad::before {\n    content: \"\";\n    position: absolute;\n    top: 20px;\n    right: 100%;\n    transform: translateY(-50%);\n    border-right: 5px solid #ffffff;\n    border-top: 5px solid transparent;\n    border-left: 5px solid transparent;\n    border-bottom: 5px solid transparent;\n  }\n\n  .consult-record .downLoad span {\n    margin-left: 11px;\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #262628;\n  }\n\n  .consult-record .info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin: 0 10px;\n  }\n\n  .consult-record .info .name {\n    font-size: 13px;\n    font-weight: normal;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #B2B2B2;\n  }\n\n  .consult-record .info .message {\n    display: flex;\n    align-items: center;\n  }\n\n  .consult-record .info .message .text {\n    position: relative;\n    display: flex;\n    align-items: center;\n    max-width: 300px;\n    padding: 10px;\n    background: #ffffff;\n    border-radius: 8px;\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 22px;\n    word-break: break-all;\n    word-wrap: break-word;\n    white-space: pre-line;\n    letter-spacing: -0.41px;\n    color: #333333;\n  }\n\n  .consult-record .info .message .text::before {\n    content: \"\";\n    position: absolute;\n    width: 0;\n    height: 0;\n    top: 20px;\n    right: 100%;\n    transform: translateY(-50%);\n    border-right: 5px solid #FFFFFF;\n    border-top: 5px solid transparent;\n    border-left: 5px solid transparent;\n    border-bottom: 5px solid transparent;\n  }\n\n  .consult-record .info .message .status {\n    width: 15px;\n    height: 15px;\n    min-width: 15px;\n    min-height: 15px;\n    margin: 0 5px;\n  }\n\n  .consult-record-self {\n    display: flex;\n    flex-direction: row-reverse;\n    padding: 14px 20px;\n  }\n\n  .consult-record-self .avatar {\n    width: 50px;\n    height: 50px;\n    min-width: 50px;\n    min-height: 50px;\n\n    border-radius: 5px;\n    box-sizing: border-box;\n    background: #FFFFFF;\n  }\n\n  /*  */\n  .consult-record-self .image {\n    border-radius: 10px;\n    cursor: zoom-in;\n  }\n\n  /*  */\n  .consult-record-self .file {\n    width: 25px;\n    height: 25px;\n    border-radius: 6px;\n  }\n\n  .consult-record-self .downLoad {\n    display: flex;\n    align-items: center;\n\n    position: relative;\n    width: 180px;\n    min-width: 180px;\n    min-height: 80px;\n    padding: 10px;\n    border-radius: 8px;\n    box-sizing: border-box;\n    text-decoration: none;\n    word-break: break-word;\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #333333;\n    background: #E2EEFB;\n  }\n\n  .consult-record-self .downLoad::before {\n    content: \"\";\n    position: absolute;\n    top: 20px;\n    left: 100%;\n    transform: translateY(-50%);\n    border-left: 5px solid #E2EEFB;\n    border-right: 5px solid transparent;\n    border-top: 5px solid transparent;\n    border-bottom: 5px solid transparent;\n  }\n\n  .consult-record-self .downLoad span {\n    margin-left: 11px;\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #262628;\n  }\n\n  .consult-record-self .info {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: center;\n    margin: 0 10px;\n  }\n\n  .consult-record-self .info .name {\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #262628;\n  }\n\n  .consult-record-self .info .message {\n    display: flex;\n    flex-direction: row-reverse;\n    align-items: center;\n  }\n\n  .consult-record-self .info .message .text {\n    position: relative;\n    display: flex;\n    align-items: center;\n    max-width: 300px;\n    padding: 10px;\n    border-radius: 8px;\n    word-break: break-all;\n    word-wrap: break-word;\n    white-space: pre-line;\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #333333;\n    background: #E2EEFB;\n  }\n\n  .consult-record-self .info .message .text::after {\n    content: \"\";\n    position: absolute;\n    width: 0;\n    height: 0;\n    top: 20px;\n    left: 100%;\n    transform: translateY(-50%);\n    border-left: 5px solid #E2EEFB;\n    border-right: 5px solid transparent;\n    border-top: 5px solid transparent;\n    border-bottom: 5px solid transparent;\n  }\n\n  .consult-record-self .info .message .status {\n    width: 15px;\n    height: 15px;\n    min-width: 15px;\n    min-height: 15px;\n    margin: 0 5px;\n  }\n\n  .file-info {\n    margin-left: 5px;\n  }\n\n  .file-info .file-info-name {\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #262628;\n  }\n\n  .file-info .file-info-size {\n    font-weight: normal;\n    font-size: 11px;\n    line-height: 22px;\n    letter-spacing: -0.41px;\n    color: #999999;\n  }\n\n  .operation-list {\n    display: flex;\n    flex-direction: column;\n    height: 150px;\n    padding: 10px 10px 10px 20px;\n    box-sizing: border-box;\n    border-top: 1px solid #CDCDCD;\n    background-color: #FFFFFF;\n  }\n\n  .input-box {\n    flex: 1;\n    padding: 10px 0;\n    box-sizing: border-box;\n    height: 80px;\n  }\n\n  .consult-input {\n    height: 100%;\n    width: 100%;\n    border: none;\n    outline: none;\n    box-sizing: border-box;\n    resize: none;\n    overflow: hidden;\n    font-size: 15px;\n    line-height: 22px;\n    color: #333333;\n    /*font-family*/\n    font-family: 'HanHei SC', PingHei, 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, 'Microsoft Yahei', 'Hiragino Sans GB', 'Heiti SC', 'WenQuanYi Micro Hei', 'Segoe UI Emoji', sans-serif;\n  }\n\n  .operation-item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .operation-item-box {\n    display: flex;\n    align-items: center;\n  }\n\n  .upload-file {\n    width: 24px;\n    height: 20px;\n    margin-left: 6px;\n    display: flex;\n    position: relative;\n    background: url(./images/file-icon.svg) no-repeat;\n    background-size: 100% 100%;\n    cursor: pointer;\n  }\n\n  .upload-img {\n    width: 24px;\n    height: 20px;\n    margin-left: 6px;\n    display: flex;\n    position: relative;\n    background: url(./images/picture.svg) no-repeat;\n    background-size: 100% 100%;\n    cursor: pointer;\n  }\n\n  .upload-video {\n    width: 24px;\n    height: 20px;\n    margin-left: 6px;\n    display: flex;\n    position: relative;\n    background: url(./images/video.svg) no-repeat;\n    background-size: 100% 100%;\n    cursor: pointer;\n  }\n\n  .image-input {\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    /*IE11*/\n    font-size: 0;\n  }\n\n  .operation-item img {\n    cursor: pointer;\n  }\n\n  .consult-send-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 71px;\n    height: 31px;\n    border-radius: 2px;\n    color: #FFFFFF;\n    background: #D02129;\n    cursor: pointer;\n    margin-left: auto;\n  }\n\n  .img-layer {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n    background: rgba(51, 51, 51, 0.6);\n    cursor: pointer;\n  }\n\n  .img-layer img {\n    max-width: 1000px;\n    max-height: 700px;\n    cursor: zoom-out;\n  }\n\n  /*  */\n  .video {\n    display: block;\n    cursor: pointer;\n    position: relative;\n    height: 100%;\n  }\n\n  /*  */\n  .video .thumbnail {\n    height: 100%;\n  }\n\n  .video .play-icon {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    background: url('./images/play.png') no-repeat center;\n    background-size: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n  }\n\n  .video-player {\n    max-width: 1000px;\n    max-height: 500px;\n    object-fit: contain;\n    outline: none;\n  }\n\n  .video-player-box {\n    /*flex: 1 ie 1, 1, auto, IE1, 1, 0 flex: 1 flex-grow: 1 */\n    flex-grow: 1;\n    overflow: hidden;\n  }\n\n  .video-box {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    max-width: 1000px;\n    max-height: 600px;\n    background: #333333;\n  }\n\n  .video-operation {\n    height: 32px;\n    line-height: 32px;\n    text-align: right;\n    background: #333333;\n  }\n\n  .video-close {\n    width: 16px;\n    height: 16px;\n    margin: 8px;\n    cursor: pointer;\n  }\n\n  .video-layer {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(50, 50, 50, 0.5);\n    z-index: 1000;\n  }\n\n  /**/\n  .emoji-invoker {\n    display: flex;\n    align-items: center;\n    transition: all 0.2s;\n  }\n\n  .emoji-picker {\n    position: absolute;\n    bottom: 155px;\n    width: 300px;\n    height: 150px;\n    padding: 5px;\n    background: #fff;\n    border: 1px solid #dcdcdc;\n    box-sizing: border-box;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, .15);\n    border-radius: 5px;\n    cursor: pointer;\n    transition: all 0.2s;\n\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n\n  .emoji-picker .emojis {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    font-size: 24px;\n  }\n\n  .emoji-picker .emojis:after {\n    content: \"\";\n    flex: auto;\n  }\n\n  .emoji-picker .emojis span {\n    padding: 0.2rem;\n    cursor: pointer;\n    border-radius: 5px;\n    font-family: 'HanHei SC', PingHei, 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, 'Microsoft Yahei', 'Hiragino Sans GB', 'Heiti SC', 'WenQuanYi Micro Hei', 'Segoe UI Emoji', sans-serif;\n  }\n\n  .emoji-picker .emojis span:hover {\n    background: #ececec;\n    cursor: pointer;\n  }\n\n  @media screen and (max-width: 480px) {\n    #consult {\n      display: none;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6688311a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6688311a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6688311a\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/gif;base64,R0lGODlhEAAQALMNAD8/P7+/vyoqKlVVVX9/fxUVFUBAQGBgYMDAwC8vL5CQkP///wAAAP///wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAAANACwAAAAAEAAQAAAEPbDJSau9OOvNew0AEHDA8wCkiW6g6AXHMU4LgizUYRgEZdsUggFAQCgUP+AERggcFYHaDaMgEBQchBNhiQAAIfkECQAADQAsAAAAABAAEAAABDuwyUmrvTYAEDAFzwN4EyiSksaRyHF06GEYBNoQ82EHBwHbCIUCYRMKiwSCYoFALDCIwLDZBFJtTKclAgAh+QQJAAANACwAAAAAEAAQAAAEPrDJGQAIM2vwHtAUcVTdBzaHYRCKip2EepxacBAvjSgKQmc83m+iILCGEkSgh5wsEIhFEwqdUpvPaHPLnUQAACH5BAkAAA0ALAAAAAAQABAAAAQ+sMkZyAkz62MM0ROiKAjRXQCATeOIHEQAPA+QKQShZHOdIQFSRqaSLBCIBQiERC41TcQzc0xOr9isdsvtPiMAIfkECQAADQAsAAAAABAAEAAABD2wyYmUQjNra/VcCLIoBKEExBFkYRtcBGAQbJsdhnFkoMimGI8wAACshBnA4wFAJpdNp4RolFqv2Kx2q4kAACH5BAkAAA0ALAAAAAAQABAAAAQ9sMm5EFoza2u1b5ylKMjXVFdAjGamrEo7IWMpz8QR3A0BGATewWA48BA5mykAAOxugMcDwItOeUwnb9uKAAAh+QQJAAANACwAAAAAEAAQAAAEO7DJSau92C6EVp4c90khMjZbd5KKYo4B0Z4KIZ9I4H7IQQSng8FwwAQAgJgBQMAAHo+kD3h5Rk/HpCUCACH5BAkAAA0ALAAAAAAQABAAAAQ8sMlJq7046827nwuCLJwoliYXjlIAAAGFKApCAc8DULQSTzgd4kCYEQgKigt2MBgOC5rtQnAeOAHilBIBADs=\"","module.exports = __webpack_public_path__ + \"img/logo.897bbe5b.png\";","!function(e,o){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define([],o):\"object\"==typeof exports?exports.es6Module=o():e.es6Module=o()}(this,function(){return function(e){function o(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,o),n.l=!0,n.exports}var t={};return o.m=e,o.c=t,o.i=function(e){return e},o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p=\"/dist-module/\",o(o.s=3)}([function(e,o,t){var a=t(4)(t(1),t(5),null,null,null);e.exports=a.exports},function(e,o,t){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0});var a=t(2),n=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")};o.default={props:{search:{type:String,required:!1,default:\"\"},emojiTable:{type:Object,required:!1,default:function(){return n.default}}},data:function(){return{display:{x:0,y:0,visible:!1}}},computed:{emojis:function(){if(this.search){var e={};for(var o in this.emojiTable){e[o]={};for(var t in this.emojiTable[o])new RegExp(\".*\"+i(this.search)+\".*\").test(t)&&(e[o][t]=this.emojiTable[o][t]);0===Object.keys(e[o]).length&&delete e[o]}return e}return this.emojiTable}},methods:{insert:function(e){this.$emit(\"emoji\",e)},toggle:function(e){this.display.visible=!this.display.visible,this.display.x=e.clientX,this.display.y=e.clientY},hide:function(){this.display.visible=!1},escape:function(e){!0===this.display.visible&&27===e.keyCode&&(this.display.visible=!1)}},directives:{\"click-outside\":{bind:function(e,o,t){if(\"function\"==typeof o.value){var a=o.modifiers.bubble,n=function(t){(a||!e.contains(t.target)&&e!==t.target)&&o.value(t)};e.__vueClickOutside__=n,document.addEventListener(\"click\",n)}},unbind:function(e,o){document.removeEventListener(\"click\",e.__vueClickOutside__),e.__vueClickOutside__=null}}},mounted:function(){document.addEventListener(\"keyup\",this.escape)},destroyed:function(){document.removeEventListener(\"keyup\",this.escape)}}},function(e,o,t){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0}),o.default={\"Frequently used\":{thumbs_up:\"\",\"-1\":\"\",sob:\"\",confused:\"\",neutral_face:\"\",blush:\"\",heart_eyes:\"\"},People:{smile:\"\",smiley:\"\",grinning:\"\",blush:\"\",wink:\"\",heart_eyes:\"\",kissing_heart:\"\",kissing_closed_eyes:\"\",kissing:\"\",kissing_smiling_eyes:\"\",stuck_out_tongue_winking_eye:\"\",stuck_out_tongue_closed_eyes:\"\",stuck_out_tongue:\"\",flushed:\"\",grin:\"\",pensive:\"\",relieved:\"\",unamused:\"\",disappointed:\"\",persevere:\"\",cry:\"\",joy:\"\",sob:\"\",sleepy:\"\",disappointed_relieved:\"\",cold_sweat:\"\",sweat_smile:\"\",sweat:\"\",weary:\"\",tired_face:\"\",fearful:\"\",scream:\"\",angry:\"\",rage:\"\",triumph:\"\",confounded:\"\",laughing:\"\",yum:\"\",mask:\"\",sunglasses:\"\",sleeping:\"\",dizzy_face:\"\",astonished:\"\",worried:\"\",frowning:\"\",anguished:\"\",imp:\"\",open_mouth:\"\",grimacing:\"\",neutral_face:\"\",confused:\"\",hushed:\"\",smirk:\"\",expressionless:\"\",man_with_gua_pi_mao:\"\",man_with_turban:\"\",cop:\"\",construction_worker:\"\",guardsman:\"\",baby:\"\",boy:\"\",girl:\"\",man:\"\",woman:\"\",older_man:\"\",older_woman:\"\",person_with_blond_hair:\"\",angel:\"\",princess:\"\",smiley_cat:\"\",smile_cat:\"\",heart_eyes_cat:\"\",kissing_cat:\"\",smirk_cat:\"\",scream_cat:\"\",crying_cat_face:\"\",joy_cat:\"\",pouting_cat:\"\",japanese_ogre:\"\",japanese_goblin:\"\",see_no_evil:\"\",hear_no_evil:\"\",speak_no_evil:\"\",skull:\"\",alien:\"\",hankey:\"\",fire:\"\",sparkles:\"\",star2:\"\",dizzy:\"\",boom:\"\",anger:\"\",sweat_drops:\"\",droplet:\"\",zzz:\"\",dash:\"\",ear:\"\",eyes:\"\",nose:\"\",tongue:\"\",lips:\"\",thumbs_up:\"\",\"-1\":\"\",ok_hand:\"\",facepunch:\"\",fist:\"\",wave:\"\",hand:\"\",open_hands:\"\",point_up_2:\"\",point_down:\"\",point_right:\"\",point_left:\"\",raised_hands:\"\",pray:\"\",clap:\"\",muscle:\"\",walking:\"\",runner:\"\",dancer:\"\",couple:\"\",family:\"\",couplekiss:\"\",couple_with_heart:\"\",dancers:\"\",ok_woman:\"\",no_good:\"\",information_desk_person:\"\",raising_hand:\"\",massage:\"\",haircut:\"\",nail_care:\"\",bride_with_veil:\"\",person_with_pouting_face:\"\",person_frowning:\"\",bow:\"\",tophat:\"\",crown:\"\",womans_hat:\"\",athletic_shoe:\"\",mans_shoe:\"\",sandal:\"\",high_heel:\"\",boot:\"\",shirt:\"\",necktie:\"\",womans_clothes:\"\",dress:\"\",running_shirt_with_sash:\"\",jeans:\"\",kimono:\"\",bikini:\"\",briefcase:\"\",handbag:\"\",pouch:\"\",purse:\"\",eyeglasses:\"\",ribbon:\"\",closed_umbrella:\"\",lipstick:\"\",yellow_heart:\"\",blue_heart:\"\",purple_heart:\"\",green_heart:\"\",broken_heart:\"\",heartpulse:\"\",heartbeat:\"\",two_hearts:\"\",sparkling_heart:\"\",revolving_hearts:\"\",cupid:\"\",love_letter:\"\",kiss:\"\",ring:\"\",gem:\"\",bust_in_silhouette:\"\",speech_balloon:\"\",footprints:\"\"},Nature:{dog:\"\",wolf:\"\",cat:\"\",mouse:\"\",hamster:\"\",rabbit:\"\",frog:\"\",tiger:\"\",koala:\"\",bear:\"\",pig:\"\",pig_nose:\"\",cow:\"\",boar:\"\",monkey_face:\"\",monkey:\"\",horse:\"\",sheep:\"\",elephant:\"\",panda_face:\"\",penguin:\"\",bird:\"\",baby_chick:\"\",hatched_chick:\"\",hatching_chick:\"\",chicken:\"\",snake:\"\",turtle:\"\",bug:\"\",bee:\"\",ant:\"\",beetle:\"\",snail:\"\",octopus:\"\",shell:\"\",tropical_fish:\"\",fish:\"\",dolphin:\"\",whale:\"\",racehorse:\"\",dragon_face:\"\",blowfish:\"\",camel:\"\",poodle:\"\",feet:\"\",bouquet:\"\",cherry_blossom:\"\",tulip:\"\",four_leaf_clover:\"\",rose:\"\",sunflower:\"\",hibiscus:\"\",maple_leaf:\"\",leaves:\"\",fallen_leaf:\"\",herb:\"\",ear_of_rice:\"\",mushroom:\"\",cactus:\"\",palm_tree:\"\",chestnut:\"\",seedling:\"\",blossom:\"\",new_moon:\"\",first_quarter_moon:\"\",moon:\"\",full_moon:\"\",first_quarter_moon_with_face:\"\",crescent_moon:\"\",earth_asia:\"\",volcano:\"\",milky_way:\"\",stars:\"\",partly_sunny:\"\",snowman:\"\",cyclone:\"\",foggy:\"\",rainbow:\"\",ocean:\"\"},Objects:{bamboo:\"\",gift_heart:\"\",dolls:\"\",school_satchel:\"\",mortar_board:\"\",flags:\"\",fireworks:\"\",sparkler:\"\",wind_chime:\"\",rice_scene:\"\",jack_o_lantern:\"\",ghost:\"\",santa:\"\",christmas_tree:\"\",gift:\"\",tanabata_tree:\"\",tada:\"\",confetti_ball:\"\",balloon:\"\",crossed_flags:\"\",crystal_ball:\"\",movie_camera:\"\",camera:\"\",video_camera:\"\",vhs:\"\",cd:\"\",dvd:\"\",minidisc:\"\",floppy_disk:\"\",computer:\"\",iphone:\"\",telephone_receiver:\"\",pager:\"\",fax:\"\",satellite:\"\",tv:\"\",radio:\"\",loud_sound:\"\",bell:\"\",loudspeaker:\"\",mega:\"\",hourglass_flowing_sand:\"\",hourglass:\"\",alarm_clock:\"\",watch:\"\",unlock:\"\",lock:\"\",lock_with_ink_pen:\"\",closed_lock_with_key:\"\",key:\"\",mag_right:\"\",bulb:\"\",flashlight:\"\",electric_plug:\"\",battery:\"\",mag:\"\",bath:\"\",toilet:\"\",wrench:\"\",nut_and_bolt:\"\",hammer:\"\",door:\"\",smoking:\"\",bomb:\"\",gun:\"\",hocho:\"\",pill:\"\",syringe:\"\",moneybag:\"\",yen:\"\",dollar:\"\",credit_card:\"\",money_with_wings:\"\",calling:\"\",\"e-mail\":\"\",inbox_tray:\"\",outbox_tray:\"\",envelope_with_arrow:\"\",incoming_envelope:\"\",mailbox:\"\",mailbox_closed:\"\",postbox:\"\",package:\"\",memo:\"\",page_facing_up:\"\",page_with_curl:\"\",bookmark_tabs:\"\",bar_chart:\"\",chart_with_upwards_trend:\"\",chart_with_downwards_trend:\"\",scroll:\"\",clipboard:\"\",date:\"\",calendar:\"\",card_index:\"\",file_folder:\"\",open_file_folder:\"\",pushpin:\"\",paperclip:\"\",straight_ruler:\"\",triangular_ruler:\"\",closed_book:\"\",green_book:\"\",blue_book:\"\",orange_book:\"\",notebook:\"\",notebook_with_decorative_cover:\"\",ledger:\"\",books:\"\",book:\"\",bookmark:\"\",name_badge:\"\",newspaper:\"\",art:\"\",clapper:\"\",microphone:\"\",headphones:\"\",musical_score:\"\",musical_note:\"\",notes:\"\",musical_keyboard:\"\",violin:\"\",trumpet:\"\",saxophone:\"\",guitar:\"\",space_invader:\"\",video_game:\"\",black_joker:\"\",flower_playing_cards:\"\",mahjong:\"\",game_die:\"\",dart:\"\",football:\"\",basketball:\"\",soccer:\"\",baseball:\"\",tennis:\"\",\"8ball\":\"\",bowling:\"\",golf:\"\",checkered_flag:\"\",trophy:\"\",ski:\"\",snowboarder:\"\",swimmer:\"\",surfer:\"\",fishing_pole_and_fish:\"\",tea:\"\",sake:\"\",beer:\"\",beers:\"\",cocktail:\"\",tropical_drink:\"\",wine_glass:\"\",fork_and_knife:\"\",pizza:\"\",hamburger:\"\",fries:\"\",poultry_leg:\"\",meat_on_bone:\"\",spaghetti:\"\",curry:\"\",fried_shrimp:\"\",bento:\"\",sushi:\"\",fish_cake:\"\",rice_ball:\"\",rice_cracker:\"\",rice:\"\",ramen:\"\",stew:\"\",oden:\"\",dango:\"\",egg:\"\",bread:\"\",doughnut:\"\",custard:\"\",icecream:\"\",ice_cream:\"\",shaved_ice:\"\",birthday:\"\",cake:\"\",cookie:\"\",chocolate_bar:\"\",candy:\"\",lollipop:\"\",honey_pot:\"\",apple:\"\",green_apple:\"\",tangerine:\"\",cherries:\"\",grapes:\"\",watermelon:\"\",strawberry:\"\",peach:\"\",melon:\"\",banana:\"\",pineapple:\"\",sweet_potato:\"\",eggplant:\"\",tomato:\"\",corn:\"\"},Places:{house:\"\",house_with_garden:\"\",school:\"\",office:\"\",post_office:\"\",hospital:\"\",bank:\"\",convenience_store:\"\",love_hotel:\"\",hotel:\"\",wedding:\"\",church:\"\",department_store:\"\",city_sunrise:\"\",city_sunset:\"\",japanese_castle:\"\",european_castle:\"\",tent:\"\",factory:\"\",tokyo_tower:\"\",japan:\"\",mount_fuji:\"\",sunrise_over_mountains:\"\",sunrise:\"\",night_with_stars:\"\",statue_of_liberty:\"\",bridge_at_night:\"\",carousel_horse:\"\",ferris_wheel:\"\",fountain:\"\",roller_coaster:\"\",ship:\"\",boat:\"\",speedboat:\"\",rocket:\"\",seat:\"\",station:\"\",bullettrain_side:\"\",bullettrain_front:\"\",metro:\"\",railway_car:\"\",bus:\"\",blue_car:\"\",car:\"\",taxi:\"\",truck:\"\",rotating_light:\"\",police_car:\"\",fire_engine:\"\",ambulance:\"\",bike:\"\",barber:\"\",busstop:\"\",ticket:\"\",traffic_light:\"\",construction:\"\",beginner:\"\",fuelpump:\"\",izakaya_lantern:\"\",slot_machine:\"\",moyai:\"\",circus_tent:\"\",performing_arts:\"\",round_pushpin:\"\",triangular_flag_on_post:\"\"},Symbols:{keycap_ten:\"\",1234:\"\",symbols:\"\",capital_abcd:\"\",abcd:\"\",abc:\"\",arrow_up_small:\"\",arrow_down_small:\"\",rewind:\"\",fast_forward:\"\",arrow_double_up:\"\",arrow_double_down:\"\",ok:\"\",new:\"\",up:\"\",cool:\"\",free:\"\",ng:\"\",signal_strength:\"\",cinema:\"\",koko:\"\",u6307:\"\",u7a7a:\"\",u6e80:\"\",u5408:\"\",u7981:\"\",ideograph_advantage:\"\",u5272:\"\",u55b6:\"\",u6709:\"\",u7121:\"\",restroom:\"\",mens:\"\",womens:\"\",baby_symbol:\"\",wc:\"\",no_smoking:\"\",u7533:\"\",accept:\"\",cl:\"\",sos:\"\",id:\"\",no_entry_sign:\"\",underage:\"\",no_entry:\"\",negative_squared_cross_mark:\"\",white_check_mark:\"\",heart_decoration:\"\",vs:\"\",vibration_mode:\"\",mobile_phone_off:\"\",ab:\"\",diamond_shape_with_a_dot_inside:\"\",ophiuchus:\"\",six_pointed_star:\"\",atm:\"\",chart:\"\",heavy_dollar_sign:\"\",currency_exchange:\"\",x:\"\",exclamation:\"\",question:\"\",grey_exclamation:\"\",grey_question:\"\",o:\"\",top:\"\",end:\"\",back:\"\",on:\"\",soon:\"\",arrows_clockwise:\"\",clock12:\"\",clock1:\"\",clock2:\"\",clock3:\"\",clock4:\"\",clock5:\"\",clock6:\"\",clock7:\"\",clock8:\"\",clock9:\"\",clock10:\"\",clock11:\"\",heavy_plus_sign:\"\",heavy_minus_sign:\"\",heavy_division_sign:\"\",white_flower:\"\",100:\"\",radio_button:\"\",link:\"\",curly_loop:\"\",trident:\"\",small_red_triangle:\"\",black_square_button:\"\",white_square_button:\"\",red_circle:\"\",large_blue_circle:\"\",small_red_triangle_down:\"\",white_large_square:\"\",black_large_square:\"\",large_orange_diamond:\"\",large_blue_diamond:\"\",small_orange_diamond:\"\",small_blue_diamond:\"\"}}},function(e,o,t){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0}),o.EmojiPickerPlugin=o.EmojiPicker=void 0;var a=t(0),n=function(e){return e&&e.__esModule?e:{default:e}}(a),i={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.component(\"emoji-picker\",n.default)}};\"undefined\"!=typeof window&&(window.EmojiPicker=i),o.EmojiPicker=n.default,o.EmojiPickerPlugin=i,o.default=n.default},function(e,o){e.exports=function(e,o,t,a,n){var i,r=e=e||{},s=typeof e.default;\"object\"!==s&&\"function\"!==s||(i=e,r=e.default);var l=\"function\"==typeof r?r.options:r;o&&(l.render=o.render,l.staticRenderFns=o.staticRenderFns),a&&(l._scopeId=a);var _;if(n?(_=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},l._ssrRegister=_):t&&(_=t),_){var c=l.functional,u=c?l.render:l.beforeCreate;c?l.render=function(e,o){return _.call(o),u(e,o)}:l.beforeCreate=u?[].concat(u,_):[_]}return{esModule:i,exports:r,options:l}}},function(e,o){e.exports={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t(\"div\",[e._t(\"emoji-invoker\",null,{events:{click:function(o){return e.toggle(o)}}}),e._v(\" \"),e.display.visible?t(\"div\",{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:e.hide,expression:\"hide\"}]},[e._t(\"emoji-picker\",null,{emojis:e.emojis,insert:e.insert,display:e.display})],2):e._e()],2)},staticRenderFns:[]}}])});\n//# sourceMappingURL=main.js.map","module.exports = \"data:image/gif;base64,R0lGODlhEAAQALMMAKqooJGOhp2bk7e1rZ2bkre1rJCPhqqon8PBudDOxXd1bISCef///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAMACwAAAAAEAAQAAAET5DJyYyhmAZ7sxQEs1nMsmACGJKmSaVEOLXnK1PuBADepCiMg/DQ+/2GRI8RKOxJfpTCIJNIYArS6aRajWYZCASDa41Ow+Fx2YMWOyfpTAQAIfkEBQAADAAsAAAAABAAEAAABE6QyckEoZgKe7MEQMUxhoEd6FFdQWlOqTq15SlT9VQM3rQsjMKO5/n9hANixgjc9SQ/CgKRUSgw0ynFapVmGYkEg3v1gsPibg8tfk7CnggAIfkEBQAADAAsAAAAABAAEAAABE2QycnOoZjaA/IsRWV1goCBoMiUJTW8A0XMBPZmM4Ug3hQEjN2uZygahDyP0RBMEpmTRCKzWGCkUkq1SsFOFQrG1tr9gsPc3jnco4A9EQAh+QQFAAAMACwAAAAAEAAQAAAETpDJyUqhmFqbJ0LMIA7McWDfF5LmAVApOLUvLFMmlSTdJAiM3a73+wl5HYKSEET2lBSFIhMIYKRSimFriGIZiwWD2/WCw+Jt7xxeU9qZCAAh+QQFAAAMACwAAAAAEAAQAAAETZDJyRCimFqbZ0rVxgwF9n3hSJbeSQ2rCWIkpSjddBzMfee7nQ/XCfJ+OQYAQFksMgQBxumkEKLSCfVpMDCugqyW2w18xZmuwZycdDsRACH5BAUAAAwALAAAAAAQABAAAARNkMnJUqKYWpunUtXGIAj2feFIlt5JrWybkdSydNNQMLaND7pC79YBFnY+HENHMRgyhwPGaQhQotGm00oQMLBSLYPQ9QIASrLAq5x0OxEAIfkEBQAADAAsAAAAABAAEAAABE2QycmUopham+da1cYkCfZ94UiW3kmtbJuRlGF0E4Iwto3rut6tA9wFAjiJjkIgZAYDTLNJgUIpgqyAcTgwCuACJssAdL3gpLmbpLAzEQA7\"","module.exports = __webpack_public_path__ + \"img/history.a3c10772.svg\";","module.exports = __webpack_public_path__ + \"img/file.28935fe1.svg\";","module.exports = __webpack_public_path__ + \"img/emoji.26263a0d.svg\";","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UserInfoCollector = (function () {\n    function UserInfoCollector(goEasy, onCollected, qrCode, accountGuid, api) {\n        this.goEasy = goEasy;\n        this.onCollected = onCollected;\n        this.qrCode = qrCode;\n        this.accountGuid = accountGuid;\n        this.api = api;\n        this.userCookieInfo = this.getUserFromCookie();\n        this.tryLinkContactAccount();\n    }\n    UserInfoCollector.prototype.tryLinkContactAccount = function () {\n        if (this.accountGuid && this.userCookieInfo) {\n            this.api.saveAccountUser({\n                openId: this.userCookieInfo.openId,\n                accountGuid: this.accountGuid\n            }).then(function (res) {\n                console.log(\"link account user successfully:\", res);\n            }).catch(function (err) {\n                console.log(\"link account user failed:\", err);\n            });\n        }\n    };\n    UserInfoCollector.prototype.isCollected = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.userCookieInfo) return [3, 2];\n                        return [4, this.api.getUserInfo(this.userCookieInfo.openId)];\n                    case 1:\n                        data = (_a.sent()).data;\n                        if (data.followed) {\n                            this.followedUser = {\n                                id: data.officialOpenId,\n                                data: {\n                                    name: data.nickname,\n                                    avatar: data.avatar\n                                }\n                            };\n                            return [2, true];\n                        }\n                        _a.label = 2;\n                    case 2: return [2, false];\n                }\n            });\n        });\n    };\n    UserInfoCollector.prototype.collect = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var userId;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.accountGuid) {\n                            userId = this.accountGuid;\n                        }\n                        else {\n                            userId = this.getAnonymousRandomGuid();\n                        }\n                        return [4, this.showQRCode(userId)];\n                    case 1:\n                        _a.sent();\n                        return [4, this.connectPubsub(userId)];\n                    case 2:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    UserInfoCollector.prototype.onFollowed = function (userInfo) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.saveFollowedUser(userInfo);\n                        return [4, this.disconnectPubsub()];\n                    case 1:\n                        _a.sent();\n                        this.onCollected();\n                        this.hideQRCode();\n                        return [2];\n                }\n            });\n        });\n    };\n    UserInfoCollector.prototype.userInfo = function () {\n        return this.followedUser;\n    };\n    UserInfoCollector.prototype.connectPubsub = function (anonymousRandomGuid) {\n        return __awaiter(this, void 0, void 0, function () {\n            var otpData;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.api.getOTP()];\n                    case 1:\n                        otpData = _a.sent();\n                        return [2, new Promise(function (resolve, reject) {\n                                _this.goEasy.connect({\n                                    otp: otpData.data,\n                                    id: anonymousRandomGuid,\n                                    onSuccess: function () {\n                                        console.log(\"GoEasy pubsub connect successfully.\");\n                                    },\n                                    onFailed: function (error) {\n                                        console.log(\"Failed to connect GoEasy pubsub:\", error);\n                                    },\n                                    onProgress: function (attempts) {\n                                        console.log(\"GoEasy pubsub is connecting\", attempts);\n                                    }\n                                });\n                                _this.goEasy.pubsub.subscribe({\n                                    channel: anonymousRandomGuid,\n                                    onMessage: function (message) {\n                                        _this.onFollowed(JSON.parse(message.content));\n                                    },\n                                    onSuccess: function () {\n                                        console.log(\"subscribe scan qrcode success\");\n                                        resolve();\n                                    },\n                                    onFailed: function (error) {\n                                        console.log(\"subscribe scan qrcode error\", error);\n                                        reject();\n                                    }\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    UserInfoCollector.prototype.saveFollowedUser = function (userInfo) {\n        this.followedUser = {\n            id: userInfo.openId,\n            data: {\n                name: userInfo.name,\n                avatar: userInfo.avatar\n            }\n        };\n        this.saveFollowedUserToCookie(userInfo);\n    };\n    UserInfoCollector.prototype.getUserFromCookie = function () {\n        var arr, reg = new RegExp(\"(^| )\" + \"goeasy.desk\" + \"=([^;]*)(;|$)\");\n        if (arr = document.cookie.match(reg)) {\n            var result = unescape(arr[2]);\n            return JSON.parse(result);\n        }\n        return null;\n    };\n    UserInfoCollector.prototype.saveFollowedUserToCookie = function (userInfo) {\n        var Days = 30;\n        var exp = new Date();\n        exp.setTime(exp.getTime() + Days * 24 * 60 * 60 * 1000);\n        document.cookie = \"goeasy.desk\" + \"=\" + escape(JSON.stringify(userInfo)) + \";expires=\" + exp.toUTCString() + \";path=/;domain=.goeasy.io\";\n        this.userCookieInfo = userInfo;\n    };\n    UserInfoCollector.prototype.showQRCode = function (anonymousRandomGuid) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.api.getQRCode(anonymousRandomGuid)];\n                    case 1:\n                        data = (_a.sent()).data;\n                        this.qrCode.value = data;\n                        this.qrCode.visible = true;\n                        return [2];\n                }\n            });\n        });\n    };\n    UserInfoCollector.prototype.hideQRCode = function () {\n        this.qrCode.visible = false;\n    };\n    UserInfoCollector.prototype.disconnectPubsub = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.goEasy.disconnect({\n                onSuccess: function () {\n                    console.log(\"GoEasy disconnect successfully\");\n                    resolve();\n                },\n                onFailed: function (error) {\n                    console.log(\"Failed to disconnect GoEasy:\", error);\n                    reject(error);\n                }\n            });\n        });\n    };\n    UserInfoCollector.prototype.getAnonymousRandomGuid = function () {\n        var guid = '-xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n        return 'anonymous' + guid;\n    };\n    return UserInfoCollector;\n}());\nexports.default = UserInfoCollector;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAP1BMVEUAAADsWDrvWTrvWTruWjvuWTvsVz3rVEDuWTvuWTvuWDruWjvvWTvvWjruWTv////ygmzwblPvY0f0l4TxeGB8BezSAAAADnRSTlMAYN+v75BQEIDPsM/Pf6ieeMkAAACGSURBVBjTbZDbEoMgDESTgKC9bET7/9/aajBUcV/YnNmZkKVdmYMAr8DUlCKqxPGAP72NjTYtxd5hY2y+qC7m0g+K2Vl1NhczMa4QTKGHD5p6KIQe4h5KNZ8Gn74I6wpfxIBf5F/K8XqRbBXVoGo5gq2kUoPjqSYvycRyoJioicMESOC8T1/VVRDZtVqLEwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"img/pull.458ffe2d.svg\";"],"sourceRoot":""}